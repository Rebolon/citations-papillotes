import './polyfills.server.mjs';
import{a as g,c as N,d as W}from"./chunk-ENJZYGN6.mjs";import{b as z}from"./chunk-5IU5EODB.mjs";import{a as k,b as O}from"./chunk-XSAZ2AMD.mjs";import"./chunk-O7A4EXKR.mjs";import{Ba as p,Ea as c,Fa as h,Ma as A,N as $,Qa as x,R as _,S as v,Sa as P,Sb as j,Ta as I,Tb as E,U as d,Va as T,Wa as S,Xa as r,Ya as m,aa as L,ab as B,bb as l,db as u,ec as M,f as y,fb as C,gb as w,h as b,kb as D,lb as F,o as f}from"./chunk-SMRITTJZ.mjs";import"./chunk-KRLCULJA.mjs";var U=(t,n)=>n.getId();function q(t,n){if(t&1&&u(0),t&2){let s=l();C('Aucune citation de "',s,'"\xA0')}}function G(t,n){if(t&1&&u(0),t&2){let s=l();C('1 citation de "',s,'":\xA0')}}function H(t,n){if(t&1&&u(0),t&2){let s=l(),e=l();w("",e.citesCount(),' citations de "',s,'":\xA0')}}function J(t,n){if(t&1&&(r(0,"h1",7),P(1,q,1,1,"ng-template",8)(2,G,1,1,"ng-template",9)(3,H,1,2,"ng-template",10),m()),t&2){let s=l();x("ngPlural",s.citesCount())}}function K(t,n){if(t&1&&(r(0,"li",11)(1,"cite"),u(2),m()()),t&2){let s=n.$implicit;c(2),C("\u201D",s.getCite(),"\u201D")}}var Q=t=>({itemPerPage:t}),pt=(()=>{let n=class n extends N{set author(e){e||(e=""),this.authorOfCites.set(e),this.author$.next(e)}constructor(e,a,o){super(),this.citeService=e,this.title=a,this.device=o,this.authorOfCites=p(""),this.author$=new b(1),this.cites=p([]),this.cites$=this.author$.pipe(v(i=>this.citeService.searchByAuthor(i)),_([]),d(i=>this.cites.set(i)),g()),this.citesCount=p(0),this.citesCount$=this.cites$.pipe(f(i=>i.length),_(0),d(i=>this.citesCount.set(i)),g()),this.pagerPaginatedCites$=new y,this.displayedPaginatedCites=p([]),this.displayedPaginatedCites$=this.cites$.pipe($(this.pagerPaginatedCites$),f(i=>i.slice(0,this.itemsPerPage)),d(i=>this.displayedPaginatedCites.set(i)),g()),this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=10,o.isMobile()&&(this.itemsPerPage=4),this.cites$.subscribe(),this.citesCount$.subscribe(),this.displayedPaginatedCites$.subscribe()}setPaginatedList(e){e[0]&&(e[0]instanceof k||!e[0])&&this.pagerPaginatedCites$.next(e)}};n.\u0275fac=function(a){return new(a||n)(h(O),h(M),h(z))},n.\u0275cmp=L({type:n,selectors:[["app-list-cites-by-authors"]],inputs:{author:"author"},standalone:!0,features:[A,D],decls:9,vars:5,consts:[[1,"container","mb-36"],["class","text-3xl font-bold text-stone-900 mb-2",3,"ngPlural"],[1,"list-none"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"text-3xl","font-bold","text-stone-900","mb-2",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[1,"p-1"],["class","p-1"]],template:function(a,o){if(a&1&&(r(0,"div",0),P(1,J,4,1,"h1",1),r(2,"ul",2),T(3,K,3,1,"li",12,U),m()(),r(5,"div",3)(6,"div",4)(7,"section",5)(8,"app-pager",6),B("paginatedList$",function(R){return o.setPaginatedList(R)}),m()()()()),a&2){let i;c(1),I(1,(i=o.authorOfCites())?1:-1,i),c(2),S(o.displayedPaginatedCites()),c(5),x("list",o.cites())("options",F(3,Q,o.getItemsPerPage()))}},dependencies:[j,E,W],encapsulation:2});let t=n;return t})();export{pt as ListCitesByAuthorsComponent};
