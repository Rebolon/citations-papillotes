import{a as H,b as J}from"./chunk-KBQ5J7OH.mjs";import{a as S,b as v,c as y,d as G}from"./chunk-2C53ES2I.mjs";import{a as U}from"./chunk-CIYUWXUY.mjs";import{a as z,b as O}from"./chunk-C4FY37EU.mjs";import{$a as n,Aa as u,Ca as s,Ea as _,G as I,Ia as A,J as L,Ja as d,K as k,La as c,Ma as M,N as V,Na as F,Oa as N,Pa as p,Qa as r,Ra as D,Ta as j,Ua as l,X as w,ba as X,bb as C,cb as E,eb as B,f,j as R,ja as h,jb as m,l as $,nb as g,oa as b,qb as x,r as T,rb as P,ub as W,z as q}from"./chunk-6SRRDQHX.mjs";f();h();W();g();X();V();f();h();W();g();g();g();function Z(e,i){if(e&1&&n(0),e&2){let t=l(2);C('Aucune citation trouv\xE9e pour la recherche "',t.q(),'"\xA0')}}function tt(e,i){if(e&1&&n(0),e&2){let t=l(2);E("",t.count(),' citation trouv\xE9e pour la recherche "',t.q(),'":\xA0')}}function et(e,i){if(e&1&&n(0),e&2){let t=l(2);E("",t.count(),' citations trouv\xE9es pour la recherche "',t.q(),'":\xA0')}}function it(e,i){if(e&1&&(p(0,"h2",0),d(1,Z,1,1,"ng-template",1)(2,tt,1,2,"ng-template",2)(3,et,1,2,"ng-template",3),r()),e&2){let t=l();c("ngPlural",t.count())}}var K=(()=>{class e{citesCount=u.required();q=u();count=m(()=>this.citesCount()??0);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["app-search-result-title"]],inputs:{citesCount:[1,"citesCount"],q:[1,"q"]},decls:1,vars:1,consts:[[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(o,a){o&1&&d(0,it,4,1,"h2",0),o&2&&M(a.q()?0:-1)},dependencies:[x,P],encapsulation:2,changeDetection:0})}return e})();g();var nt=(e,i)=>i.getId(),ot=e=>({itemPerPage:e});function at(e,i){e&1&&n(0,"0 Citation.")}function rt(e,i){e&1&&n(0,"1 Citation.")}function st(e,i){if(e&1&&n(0),e&2){let t=l();C("",t.citesCount()," Citations.")}}function ct(e,i){if(e&1&&(p(0,"li",8)(1,"cite"),n(2),r(),n(3," de "),D(4,"app-link-cites-by-author",13),r()),e&2){let t=i.$implicit;s(2),C("\u201D",t.getCite(),"\u201D"),s(2),c("author",t.getAuthor())}}var $t=(()=>{class e extends H{device=b(G);citeService=b(O);q=u("",{transform:t=>t?t.trim():""});q$=new $(1);cites=m(()=>this.citesSource()??[]);citesSource=y(v(this.q).pipe(L(""),k(t=>t?this.citeService.search(t):this.citeService.cites$),S()));citesCount=m(()=>this.citesCountSource()??0);citesCountSource=y(v(this.citesSource).pipe(q(t=>!!t),T(t=>t.length),L(0),S()));pagerPaginatedCites$=new R;displayedPaginatedCites=m(()=>this.displayedPaginatedCitesSource()??[]);displayedPaginatedCitesSource=y(v(this.citesSource).pipe(q(t=>!!t),I(this.pagerPaginatedCites$),T(t=>t.slice(0,this.itemsPerPage)),S()));constructor(){super();let t=this.device;this.itemsPerPage=12,t.isMobile()&&(this.itemsPerPage=4)}setPaginatedList(t){t[0]&&(t[0]instanceof z||!t[0])&&this.pagerPaginatedCites$.next(t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["app-list-cites"]],inputs:{q:[1,"q"]},features:[A],decls:14,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams","ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"q","citesCount"],[1,"list-none"],[1,"p-1"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"paginatedList$","list","options"],[3,"author"]],template:function(o,a){o&1&&(p(0,"div",0)(1,"h1",1)(2,"a",2),d(3,at,1,0,"ng-template",3)(4,rt,1,0,"ng-template",4)(5,st,1,1,"ng-template",5),r()(),D(6,"app-search-result-title",6),p(7,"ul",7),F(8,ct,5,2,"li",8,nt),r()(),p(10,"div",9)(11,"div",10)(12,"section",11)(13,"app-pager",12),j("paginatedList$",function(Q){return a.setPaginatedList(Q)}),r()()()()),o&2&&(s(2),c("queryParams",null)("ngPlural",a.citesCount()),s(4),c("q",a.q())("citesCount",a.citesCount()),s(2),N(a.displayedPaginatedCites()),s(5),c("list",a.cites())("options",B(6,ot,a.getItemsPerPage())))},dependencies:[w,x,P,U,K,J],encapsulation:2,changeDetection:0})}return e})();export{$t as ListCitesComponent};
