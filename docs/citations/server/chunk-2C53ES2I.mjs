import{Ha as w,L as F,N as C,O as T,f as u,i as k,ja as g,jb as M,k as E,ka as v,kb as y,l as j,la as f,lb as S,nb as L,oa as d,qa as p,r as V,xa as D,ya as l,z as m}from"./chunk-6SRRDQHX.mjs";u();g();L();C();T();function R(t){t||(p(R),t=d(l));let s=new k(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(F(s))}function q(t,s){!s?.injector&&p(q);let e=s?.injector??d(D),r=new j(1),i=S(()=>{let a;try{a=t()}catch(o){y(()=>r.error(o));return}y(()=>r.next(a))},{injector:e,manualCleanup:!0});return e.get(l).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}function N(t,s){let e=!s?.manualCleanup;e&&!s?.injector&&p(N);let r=e?s?.injector?.get(l)??d(l):null,i=U(s?.equal),a;s?.requireSync?a=w({kind:0},{equal:i}):a=w({kind:1,value:s?.initialValue},{equal:i});let o=t.subscribe({next:n=>a.set({kind:1,value:n}),error:n=>{if(s?.rejectErrors)throw n;a.set({kind:2,error:n})}});if(s?.requireSync&&a().kind===0)throw new v(601,!1);return r?.onDestroy(o.unsubscribe.bind(o)),M(()=>{let n=a();switch(n.kind){case 1:return n.value;case 2:throw n.error;case 0:throw new v(601,!1)}},{equal:s?.equal})}function U(t=Object.is){return(s,e)=>s.kind===1&&e.kind===1&&t(s.value,e.value)}u();g();L();var se=(()=>{class t{isMobile(){return Object.keys(navigator).length?navigator.userAgent.includes("Mobile"):!1}isDesktop(){return!this.isMobile()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=f({token:t,factory:t.\u0275fac})}return t})();u();g();u();g();var b=class{pager=[];pagerFirstEdges=[];pagerLastEdges=[];pagerNumbers=[];constructor(s){this.pager=s,this.pagerFirstEdges=this.pager.filter((e,r)=>r<2),this.pagerLastEdges=this.pager.slice().reverse().filter((e,r)=>r<2).reverse(),this.pagerNumbers=this.pager.filter(e=>!this.pagerFirstEdges.includes(e)&&!this.pagerLastEdges.includes(e))}getAll(){return this.pager}getFirstEdges(){return this.pagerFirstEdges}getLastEdges(){return this.pagerLastEdges}getNumbers(){return this.pagerNumbers}};C();L();var x=class extends Error{},c=class extends Error{},h=class extends Error{},P=class extends Error{},I=class extends Error{};var O=class extends Error{},he=(()=>{class t{originalList=[];itemPerPage=5;maxPagerItem=5;firstPage=1;totalPage=1;lastPage=1;previousPage=1;nextPage=1;currentPage=new E(1);pagerIndexList=[];pagerItemList={};currentPage$=this.currentPage.asObservable().pipe(m(e=>!!e));currentOffset$=this.currentPage.asObservable().pipe(m(e=>!!e),V(e=>this.getOffsetForPage(e)));init(e,r){typeof e!="object"?this.originalList=new Array(e).fill(0):this.originalList=e,this.setOptions(r).resetPage().setTotalPage(e).calculateLastPage().calculateCurrentPage().calculatePreviousPage().calculateNextPage().createIndexList().buildPagerList()}isCurrentPage(e){return this.currentPage.getValue()===e}getOffset(){return this.getOffsetForPage(this.getCurrentPage())}getOffsetForPage(e){if(e<this.firstPage)throw new I;return e===this.firstPage?0:(e-1)*this.itemPerPage}getTotalPage(){return this.totalPage}getFirstPage(){return this.firstPage}getLastPage(){return this.lastPage}getCurrentPage(){return this.currentPage.getValue()}getPreviousPage(){return this.previousPage}getNextPage(){return this.nextPage}getPaginatedList(){let e=this.getOffset(),r=e+this.itemPerPage;return this.originalList.slice(e,r)}goToPage(e){if(this.getCurrentPage()===e)return this.getCurrentPage();if(this.pagerIndexList.includes(e))this.currentPage.next(e),this.calculatePreviousPage(),this.calculateNextPage(),this.createIndexList(),this.buildPagerList();else throw new O;return this.currentPage.getValue()}goToFirstPage(){return this.currentPage.getValue()===this.firstPage?this.currentPage.getValue():(this.currentPage.next(this.firstPage),this.previousPage=this.firstPage,this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToLastPage(){return this.currentPage.getValue()===this.lastPage?this.currentPage.getValue():(this.currentPage.next(this.lastPage),this.nextPage=this.lastPage,this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToNextPage(){return this.currentPage.getValue()===this.nextPage?this.currentPage.getValue():(this.previousPage=this.currentPage.getValue(),this.currentPage.next(this.nextPage),this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToPreviousPage(){return this.currentPage.getValue()===this.previousPage?this.currentPage.getValue():(this.nextPage=this.currentPage.getValue(),this.currentPage.next(this.previousPage),this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}getPagerIndexList(){return this.pagerIndexList}getPagerItemList(){return this.pagerItemList}setOptions(e){return e?(typeof e.itemPerPage<"u"&&(this.itemPerPage=e.itemPerPage),typeof e.maxPagerItem<"u"&&(this.maxPagerItem=e.maxPagerItem),this):this}setTotalPage(e){let r=typeof e=="object"?e.length:e;return this.totalPage=Math.ceil(r/this.itemPerPage),this}setFirstPage(e){return this.firstPage=e>=0?e:this.firstPage,this}resetPage(){return this.currentPage.next(this.firstPage),this}calculateLastPage(){if(this.totalPage===null)throw new x;if(this.firstPage===null)throw new c;return this.lastPage=this.totalPage-1+this.firstPage,this}calculateCurrentPage(){if(this.lastPage===null)throw new h;if(this.firstPage===null)throw new c;let e=this.getCurrentPage();return this.currentPage.next(this.currentPage.getValue()<this.firstPage?this.firstPage:e>this.lastPage?this.lastPage:e),this}calculatePreviousPage(){if(this.currentPage===null)throw new P;if(this.firstPage===null)throw new c;let e=this.currentPage.getValue()-1;return this.previousPage=e>=this.firstPage?e:this.firstPage,this}calculateNextPage(){if(this.lastPage===null)throw new h;if(this.currentPage===null)throw new P;let e=this.currentPage.getValue()+1;return this.nextPage=e<=this.lastPage?e:this.lastPage,this}createIndexList(){if(this.lastPage===null)throw new h;if(this.currentPage===null)throw new P;if(this.totalPage===null)throw new x;if(this.firstPage===null)throw new c;let e=Math.floor(this.maxPagerItem/2),r=this.lastPage-this.maxPagerItem+1,i;this.currentPage.getValue()<=e?i=this.firstPage:this.lastPage-this.currentPage.getValue()<=e?i=r<=this.firstPage?this.firstPage:r:i=this.currentPage.getValue()-e;let a=i+(this.maxPagerItem-1),o=a>this.lastPage?this.lastPage:a;this.pagerIndexList=[];for(let n=i;n<=o;n++)this.pagerIndexList.push(n);return this}buildPagerList(){let e=[];return this.pagerIndexList.length&&(this.pagerIndexList.forEach(r=>{e.push({index:r,label:r.toString()})}),e=e.filter((r,i)=>i<this.maxPagerItem)),e.unshift({index:this.getPreviousPage(),label:"<"}),e.unshift({index:this.getFirstPage(),label:"<<"}),e.push({index:this.getNextPage(),label:">"}),e.push({index:this.getLastPage(),label:">>"}),this.pagerItemList=new b(e),this.pagerItemList}static \u0275fac=function(r){return new(r||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();export{R as a,q as b,N as c,se as d,he as e};
