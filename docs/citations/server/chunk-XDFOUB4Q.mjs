import './polyfills.server.mjs';
import{a as z}from"./chunk-YBFETDDA.mjs";import{a as G,b as H}from"./chunk-DGYZFN5S.mjs";import{a as v,b as y,c as T,e as J}from"./chunk-N7MBAWI7.mjs";import{a as O,b as U}from"./chunk-SVEQQUFA.mjs";import{e as W}from"./chunk-IX2CL4RB.mjs";import{$a as I,Da as c,Ea as _,Jb as d,Ma as F,N as k,R as b,Ra as g,S as w,Ua as p,Va as R,Wb as P,Xa as A,Xb as S,Ya as M,Za as m,_a as l,ba as f,bb as j,cb as u,f as E,h as $,ib as s,ic as B,kb as h,lb as D,nb as x,o as q,ob as N,qa as C,y as L}from"./chunk-53P5ILL5.mjs";import"./chunk-25NAXU2X.mjs";function X(t,e){if(t&1&&s(0),t&2){let i=u(2);h('Aucune citation trouv\xE9e pour la recherche "',i.q(),'"\xA0')}}function Y(t,e){if(t&1&&s(0),t&2){let i=u(2);D("",i.count(),' citation trouv\xE9e pour la recherche "',i.q(),'":\xA0')}}function Z(t,e){if(t&1&&s(0),t&2){let i=u(2);D("",i.count(),' citations trouv\xE9es pour la recherche "',i.q(),'":\xA0')}}function tt(t,e){if(t&1&&(m(0,"h2",0),g(1,X,1,1,"ng-template",1)(2,Y,1,2,"ng-template",2)(3,Z,1,2,"ng-template",3),l()),t&2){let i=u();p("ngPlural",i.count())}}var K=(()=>{let e=class e{constructor(){this.citesCount=C.required(),this.q=C(),this.count=d(()=>this.citesCount()??0)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=f({type:e,selectors:[["app-search-result-title"]],inputs:{citesCount:[1,"citesCount"],q:[1,"q"]},standalone:!0,features:[x],decls:1,vars:1,consts:[[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(a,o){a&1&&g(0,tt,4,1,"h2",0),a&2&&R(o.q()?0:-1)},dependencies:[P,S],encapsulation:2});let t=e;return t})();var et=(t,e)=>e.getId(),it=t=>({itemPerPage:t});function nt(t,e){t&1&&s(0,"0 Citation.")}function ot(t,e){t&1&&s(0,"1 Citation.")}function at(t,e){if(t&1&&s(0),t&2){let i=u();h("",i.citesCount()," Citations.")}}function rt(t,e){if(t&1&&(m(0,"li",8)(1,"cite"),s(2),l(),s(3," de "),I(4,"app-link-cites-by-author",13),l()),t&2){let i=e.$implicit;c(2),h("\u201D",i.getCite(),"\u201D"),c(2),p("author",i.getAuthor())}}var qt=(()=>{let e=class e extends G{constructor(r,a,o){super(),this.citeService=r,this.title=a,this.device=o,this.q=C("",{transform:n=>n?n.trim():""}),this.q$=new $(1),this.cites=d(()=>this.citesSource()??[]),this.citesSource=T(y(this.q).pipe(b(""),w(n=>n?this.citeService.search(n):this.citeService.cites$),v())),this.citesCount=d(()=>this.citesCountSource()??0),this.citesCountSource=T(y(this.citesSource).pipe(L(n=>!!n),q(n=>n.length),b(0),v())),this.pagerPaginatedCites$=new E,this.displayedPaginatedCites=d(()=>this.displayedPaginatedCitesSource()??[]),this.displayedPaginatedCitesSource=T(y(this.citesSource).pipe(L(n=>!!n),k(this.pagerPaginatedCites$),q(n=>n.slice(0,this.itemsPerPage)),v())),this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,o.isMobile()&&(this.itemsPerPage=4)}setPaginatedList(r){r[0]&&(r[0]instanceof O||!r[0])&&this.pagerPaginatedCites$.next(r)}};e.\u0275fac=function(a){return new(a||e)(_(U),_(B),_(J))},e.\u0275cmp=f({type:e,selectors:[["app-list-cites"]],inputs:{q:[1,"q"]},standalone:!0,features:[F,x],decls:14,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams","ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"q","citesCount"],[1,"list-none"],[1,"p-1"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"paginatedList$","list","options"],[3,"author"]],template:function(a,o){a&1&&(m(0,"div",0)(1,"h1",1)(2,"a",2),g(3,nt,1,0,"ng-template",3)(4,ot,1,0,"ng-template",4)(5,at,1,1,"ng-template",5),l()(),I(6,"app-search-result-title",6),m(7,"ul",7),A(8,rt,5,2,"li",8,et),l()(),m(10,"div",9)(11,"div",10)(12,"section",11)(13,"app-pager",12),j("paginatedList$",function(Q){return o.setPaginatedList(Q)}),l()()()()),a&2&&(c(2),p("queryParams",null)("ngPlural",o.citesCount()),c(4),p("q",o.q())("citesCount",o.citesCount()),c(2),M(o.displayedPaginatedCites()),c(5),p("list",o.cites())("options",N(6,it,o.getItemsPerPage())))},dependencies:[W,P,S,z,K,H],encapsulation:2});let t=e;return t})();export{qt as ListCitesComponent};
