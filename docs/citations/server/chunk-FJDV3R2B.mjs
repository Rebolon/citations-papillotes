import './polyfills.server.mjs';
import{a as N}from"./chunk-LD6TOMHY.mjs";import{a as be,d as we}from"./chunk-7IHBANSS.mjs";import{b as Re}from"./chunk-DHRXJUJO.mjs";import{a as z,d as Ae,e as Pe}from"./chunk-QD4JVIT5.mjs";import{b as Te}from"./chunk-WVHRYZRP.mjs";import{a as ke,b as ye,d as Me,e as j,f as O,g as xe,h as Ee,i as Se,j as Le}from"./chunk-IXBV37FZ.mjs";import{$ as P,$a as s,C as te,Da as h,E as C,Ea as V,Eb as fe,G as ie,Ja as ce,Na as I,Nb as ve,O as re,S as E,U as ne,Va as f,W,Y as oe,_ as Z,_a as o,_b as _,ab as l,ca as d,cb as H,ea as ae,f as J,gb as pe,hb as me,hc as ge,ib as ue,ic as D,jb as b,jc as Ce,k as A,l as X,la as m,ma as u,na as R,o as v,ob as g,pa as se,qa as le,t as ee,u as U,v as x,w as B,x as k,xa as G,xb as de,y,zb as he}from"./chunk-CRI4ACI5.mjs";import{a as Q,h as q,i as Y,j as $}from"./chunk-K7YHPIF3.mjs";var F=(()=>{let e=class e{constructor(i){this.click=i}refreshRandom(){this.click.click()}};e.\u0275fac=function(r){return new(r||e)(V(N))},e.\u0275cmp=d({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(r,n){},encapsulation:2});let t=e;return t})();var Ve=(()=>{let e=class e extends F{};e.\u0275fac=(()=>{let i;return function(n){return(i||(i=R(e)))(n||e)}})(),e.\u0275cmp=d({type:e,selectors:[["app-navbar-mobile"]],standalone:!0,features:[I,g],decls:26,vars:4,consts:[["id","bottom-navigation",1,"md:hidden","block","fixed","inset-x-0","bottom-0","z-10","bg-white","shadow"],["id","tabs",1,"flex","justify-between"],["routerLink","/","title","Citation du jour","aria-label","Citation du jour","routerLinkActive","focus:text-violet-800",1,"w-full","hover:text-stone-500","justify-center","inline-block","text-center","pt-2","pb-1",3,"queryParams"],["width","25","height","25","viewBox","0 0 42 42","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline-block","mb-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"tab","tab-home","block","text-xs"],["routerLink","/cites","title","Liste des citations","aria-label","Liste des citations","routerLinkActive","focus:text-violet-800",1,"w-full","hover:text-stone-500","justify-center","inline-block","text-center","pt-2","pb-1",3,"queryParams"],["width","25","height","25","viewBox","0 0 42 42",1,"inline-block","mb-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5M12 12H15M12 16H15M9 12H9.01M9 16H9.01"],[1,"tab","tab-kategori","block","text-xs"],["routerLink","/authors","title","Liste des auteurs","aria-label","Liste des auteurs","routerLinkActive","focus:text-violet-800",1,"w-full","hover:text-stone-500","justify-center","inline-block","text-center","pt-2","pb-1",3,"queryParams"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20H22V18C22 16.3431 20.6569 15 19 15C18.0444 15 17.1931 15.4468 16.6438 16.1429M17 20H7M17 20V18C17 17.3438 16.8736 16.717 16.6438 16.1429M7 20H2V18C2 16.3431 3.34315 15 5 15C5.95561 15 6.80686 15.4468 7.35625 16.1429M7 20V18C7 17.3438 7.12642 16.717 7.35625 16.1429M7.35625 16.1429C8.0935 14.301 9.89482 13 12 13C14.1052 13 15.9065 14.301 16.6438 16.1429M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7ZM21 10C21 11.1046 20.1046 12 19 12C17.8954 12 17 11.1046 17 10C17 8.89543 17.8954 8 19 8C20.1046 8 21 8.89543 21 10ZM7 10C7 11.1046 6.10457 12 5 12C3.89543 12 3 11.1046 3 10C3 8.89543 3.89543 8 5 8C6.10457 8 7 8.89543 7 10Z"],[1,"tab","tab-explore","block","text-xs"],["routerLink","/random","title","Une citation au hasard","aria-label","Une citation au hasard","routerLinkActive","focus:text-violet-800",1,"w-full","hover:text-stone-500","justify-center","inline-block","text-center","pt-2","pb-1",3,"click","queryParams"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"],[1,"tab","tab-whishlist","block","text-xs"]],template:function(r,n){r&1&&(o(0,"section",0)(1,"div",1)(2,"a",2),m(),o(3,"svg",3)(4,"svg",4),l(5,"path",5),s()(),u(),o(6,"span",6),b(7,"Aujourd'hui"),s()(),o(8,"a",7),m(),o(9,"svg",8)(10,"svg",4),l(11,"path",9),s()(),u(),o(12,"span",10),b(13,"Citations"),s()(),o(14,"a",11),m(),o(15,"svg",8)(16,"svg",4),l(17,"path",12),s()(),u(),o(18,"span",13),b(19,"Auteurs"),s()(),o(20,"a",14),H("click",function(){return n.refreshRandom()}),m(),o(21,"svg",8)(22,"svg",4),l(23,"path",15),s()(),u(),o(24,"span",16),b(25,"Al\xE9atoire"),s()()()()),r&2&&(h(2),f("queryParams",null),h(6),f("queryParams",null),h(6),f("queryParams",null),h(6),f("queryParams",null))},dependencies:[j,O],encapsulation:2});let t=e;return t})();var We=["elSearchCite"],Ie=(()=>{var e;let a=class a{constructor(){Y(this,e,void 0);this.activatedRouter=P(ke),this.router=P(Me),$(this,e,P(le))}ngOnInit(){this.activatedRouter.queryParamMap.pipe(z(q(this,e))).subscribe(r=>{if(!r.get("q")){this.elSearchCite.nativeElement.value="";return}})}ngAfterViewInit(){x(this.elSearchCite.nativeElement,"keyup").pipe(v(r=>r.currentTarget.value),te(500),z(q(this,e))).subscribe({next:r=>{this.router.navigate(["/search"],{queryParams:{q:r}})}})}};e=new WeakMap,a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=d({type:a,selectors:[["app-search"]],viewQuery:function(n,p){if(n&1&&pe(We,7),n&2){let c;me(c=ue())&&(p.elSearchCite=c.first)}},standalone:!0,features:[g],decls:2,vars:0,consts:[["elSearchCite",""],["id","search_input","type","text","placeholder","Rechercher...",1,""]],template:function(n,p){n&1&&l(0,"input",1,0)},encapsulation:2});let t=a;return t})();var He=(()=>{let e=class e extends F{};e.\u0275fac=(()=>{let i;return function(n){return(i||(i=R(e)))(n||e)}})(),e.\u0275cmp=d({type:e,selectors:[["app-navbar-desktop"]],standalone:!0,features:[I,g],decls:30,vars:4,consts:[[1,"flex","items-center","justify-between","p-6","container","mx-auto"],["routerLink","/","title","Citation du jour","aria-label","Citation du jour"],["version","1.1","width","200","height","36","preserveAspectRatio","xMidYMid meet","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M11.86,16.55a4.31,4.31,0,0,0-2.11.56,14.44,14.44,0,0,1,4.36-6,1.1,1.1,0,0,0-1.4-1.7c-4,3.25-5.78,7.75-5.78,10.54A5.08,5.08,0,0,0,10,24.58a4.4,4.4,0,0,0,1.88.44,4.24,4.24,0,1,0,0-8.47Z"],["d","M23,16.55a4.29,4.29,0,0,0-2.11.56,14.5,14.5,0,0,1,4.35-6,1.1,1.1,0,1,0-1.39-1.7c-4,3.25-5.78,7.75-5.78,10.54a5.08,5.08,0,0,0,3,4.61A4.37,4.37,0,0,0,23,25a4.24,4.24,0,1,0,0-8.47Z"],["x","0","y","0","width","200","height","36","fill-opacity","0"],["x","36","y","35",1,"text-4xl","text-violet-700","font-sans","subpixel-antialiased"],[1,"text-sm","text-gray-600","sm:flex",2,"padding-top","16px"],[1,"text-lg","hidden","lg:flex"],["routerLink","/","title","Citation du jour","aria-label","Citation du jour","routerLinkActive","focus:text-violet-800",1,"block","mt-4","lg:inline-block","hover:text-violet-800","motion-safe:hover:scale-110","lg:mt-0","mr-10",3,"queryParams"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["routerLink","/cites","title","Liste des citations","aria-label","Liste des citations","routerLinkActive","focus:text-violet-800",1,"block","mt-4","lg:inline-block","hover:text-violet-800","motion-safe:hover:scale-110","lg:mt-0","mr-10",3,"queryParams"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5M12 12H15M12 16H15M9 12H9.01M9 16H9.01"],["routerLink","/authors","title","Liste des auteurs","aria-label","Liste des auteurs","routerLinkActive","focus:text-violet-800",1,"block","mt-4","lg:inline-block","hover:text-violet-800","motion-safe:hover:scale-110","lg:mt-0","mr-10",3,"queryParams"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20H22V18C22 16.3431 20.6569 15 19 15C18.0444 15 17.1931 15.4468 16.6438 16.1429M17 20H7M17 20V18C17 17.3438 16.8736 16.717 16.6438 16.1429M7 20H2V18C2 16.3431 3.34315 15 5 15C5.95561 15 6.80686 15.4468 7.35625 16.1429M7 20V18C7 17.3438 7.12642 16.717 7.35625 16.1429M7.35625 16.1429C8.0935 14.301 9.89482 13 12 13C14.1052 13 15.9065 14.301 16.6438 16.1429M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7ZM21 10C21 11.1046 20.1046 12 19 12C17.8954 12 17 11.1046 17 10C17 8.89543 17.8954 8 19 8C20.1046 8 21 8.89543 21 10ZM7 10C7 11.1046 6.10457 12 5 12C3.89543 12 3 11.1046 3 10C3 8.89543 3.89543 8 5 8C6.10457 8 7 8.89543 7 10Z"],["routerLink","/random","title","Une citation au hasard","aria-label","Une citation au hasard","routerLinkActive","focus:text-violet-800",1,"block","mt-4","lg:inline-block","hover:text-violet-800","motion-safe:hover:scale-110","lg:mt-0","mr-10",3,"click","queryParams"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"],["href","https://github.com/Rebolon/citations-papillotes","title","Acc\xE8s au code source","aria-label","Acc\xE8s au code source",1,"block","lg:inline-block","hover:text-violet-800","transform","motion-safe:hover:scale-110","lg:mt-0","mr-10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 20L14 4M18 8L22 12L18 16M6 16L2 12L6 8"]],template:function(r,n){r&1&&(o(0,"nav",0)(1,"a",1),m(),o(2,"svg",2),l(3,"path",3)(4,"path",4)(5,"rect",5),o(6,"text",6),b(7," Citations "),s()()(),u(),l(8,"app-search",7),o(9,"div",8)(10,"a",9),m(),o(11,"svg",10)(12,"svg",11),l(13,"path",12),s()()(),u(),o(14,"a",13),m(),o(15,"svg",10)(16,"svg",11),l(17,"path",14),s()()(),u(),o(18,"a",15),m(),o(19,"svg",10)(20,"svg",11),l(21,"path",16),s()()(),u(),o(22,"a",17),H("click",function(){return n.refreshRandom()}),m(),o(23,"svg",10)(24,"svg",11),l(25,"path",18),s()()(),u(),o(26,"a",19),m(),o(27,"svg",10)(28,"svg",11),l(29,"path",20),s()()()()()),r&2&&(h(10),f("queryParams",null),h(4),f("queryParams",null),h(4),f("queryParams",null),h(4),f("queryParams",null))},dependencies:[j,Ie,O],encapsulation:2});let t=e;return t})();var De=(()=>{let e=class e{constructor(i){this.title=i,this.title.setTitle("Liste de Citations")}};e.\u0275fac=function(r){return new(r||e)(V(D))},e.\u0275cmp=d({type:e,selectors:[["app-root"]],standalone:!0,features:[g],decls:7,vars:0,consts:[["id","app",1,"container","min-h-screen","flex","flex-col"],[1,"top-0","fixed","bg-white","w-full"],[1,"grow","p-4","pt-24"],[1,"w-full"]],template:function(r,n){r&1&&(o(0,"div",0)(1,"header",1),l(2,"app-navbar-desktop"),s(),o(3,"main",2),l(4,"router-outlet"),s(),o(5,"footer",3),l(6,"app-navbar-mobile"),s()())},dependencies:[He,ye,Ve],encapsulation:2});let t=e;return t})();var T="Service workers are disabled or not supported by this browser";function Ze(t){return U(()=>X(new Error(t)))}var M=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Ze(T);else{let i=x(e,"controllerchange").pipe(v(()=>e.controller)),r=U(()=>A(e.controller)),n=ee(r,i);this.worker=n.pipe(y(w=>!!w)),this.registration=this.worker.pipe(E(()=>e.getRegistration()));let K=x(e,"message").pipe(v(w=>w.data)).pipe(y(w=>w&&w.type)).pipe(re());K.connect(),this.events=K}}postMessage(e,a){return this.worker.pipe(C(1),ne(i=>{i.postMessage(Q({action:e},a))})).toPromise().then(()=>{})}postMessageWithOperation(e,a,i){let r=this.waitForOperationCompleted(i),n=this.postMessage(e,a);return Promise.all([n,r]).then(([,p])=>p)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let a;return typeof e=="string"?a=i=>i.type===e:a=i=>e.includes(i.type),this.events.pipe(y(a))}nextEventOfType(e){return this.eventsOfType(e).pipe(C(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(y(a=>a.nonce===e),C(1),v(a=>{if(a.result!==void 0)return a.result;throw new Error(a.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ge=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,this.pushManager=null,this.subscriptionChanges=new J,!i.isEnabled){this.messages=k,this.notificationClicks=k,this.subscription=k;return}this.messages=this.sw.eventsOfType("PUSH").pipe(v(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(v(n=>n.data)),this.pushManager=this.sw.registration.pipe(v(n=>n.pushManager));let r=this.pushManager.pipe(E(n=>n.getSubscription()));this.subscription=B(r,this.subscriptionChanges)}requestSubscription(i){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(T));let r={userVisibleOnly:!0},n=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(n.length));for(let c=0;c<n.length;c++)p[c]=n.charCodeAt(c);return r.applicationServerKey=p,this.pushManager.pipe(E(c=>c.subscribe(r)),C(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));let i=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(n=>{if(!n)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(C(1),E(i)).toPromise()}decodeBase64(i){return atob(i)}};e.\u0275fac=function(r){return new(r||e)(Z(M))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),_e=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,!i.isEnabled){this.versionUpdates=k,this.unrecoverable=k;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}};e.\u0275fac=function(r){return new(r||e)(Z(M))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();var je=new oe("");function ze(t,e,a,i){return()=>{if(!(_(i)&&"serviceWorker"in navigator&&a.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let r;if(typeof a.registrationStrategy=="function")r=a.registrationStrategy();else{let[p,...c]=(a.registrationStrategy||"registerWhenStable:30000").split(":");switch(p){case"registerImmediately":r=A(null);break;case"registerWithDelay":r=Oe(+c[0]||0);break;case"registerWhenStable":r=c[0]?B(Ne(t),Oe(+c[0])):Ne(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${a.registrationStrategy}`)}}t.get(ce).runOutsideAngular(()=>r.pipe(C(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:a.scope}).catch(p=>console.error("Service worker registration failed with:",p))))}}function Oe(t){return A(null).pipe(ie(t))}function Ne(t){return t.get(he).isStable.pipe(y(a=>a))}function Ke(t,e){return new M(_(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var L=class{};function Fe(t,e={}){return ae([Ge,_e,{provide:je,useValue:t},{provide:L,useValue:e},{provide:M,useFactory:Ke,deps:[L,G]},{provide:de,useFactory:ze,deps:[se,je,L,G],multi:!0}])}var qe=[{path:"",loadComponent:()=>import("./chunk-76BL67QM.mjs").then(t=>t.HomeComponent)},{path:"cites",loadComponent:()=>import("./chunk-K5RZYYSF.mjs").then(t=>t.ListCitesComponent)},{path:"authors",loadComponent:()=>import("./chunk-J2PX24UI.mjs").then(t=>t.ListAuthorsComponent)},{path:"authors/:author",loadComponent:()=>import("./chunk-4SGZNSXT.mjs").then(t=>t.ListCitesByAuthorsComponent)},{path:"random",loadComponent:()=>import("./chunk-NLQ2VJED.mjs").then(t=>t.RandomComponent)},{path:"search",loadComponent:()=>import("./chunk-K5RZYYSF.mjs").then(t=>t.ListCitesComponent)},{path:"**",loadComponent:()=>import("./chunk-J4EVOK3Z.mjs").then(t=>t.PageNotFoundComponent)}];var Ue={providers:[xe(qe,Se(),Ee({onSameUrlNavigation:"reload"}),Le()),Fe("ngsw-worker.js",{enabled:!fe(),registrationStrategy:"registerWhenStable:30000"}),Ce(),be(),Re,Te,N,D,Ae,Pe]};var Qe={providers:[we()]},Be=ve(Ue,Qe);global.navigator={};var Ye=()=>ge(De,Be),Yt=Ye;export{Yt as a};
