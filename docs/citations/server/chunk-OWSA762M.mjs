import{a as z,b as R}from"./chunk-KBQ5J7OH.mjs";import{a as C,d as W}from"./chunk-2C53ES2I.mjs";import{a as O,b as N}from"./chunk-C4FY37EU.mjs";import{$a as l,Ca as r,Ea as A,G as b,Ha as p,Ia as B,J as f,Ja as _,K as v,La as x,M as m,Ma as S,N as q,Na as T,Oa as D,Pa as s,Qa as c,Ta as I,Ua as o,bb as d,cb as w,eb as E,f as P,j as y,ja as L,l as $,nb as F,oa as u,qb as M,r as h,rb as j,ub as G,wb as k,zb as H}from"./chunk-6SRRDQHX.mjs";P();L();G();F();H();q();F();var J=(e,i)=>i.getId(),K=e=>({itemPerPage:e});function Q(e,i){if(e&1&&l(0),e&2){let t=o();d('Aucune citation de "',t,'"\xA0')}}function V(e,i){if(e&1&&l(0),e&2){let t=o();d('1 citation de "',t,'":\xA0')}}function X(e,i){if(e&1&&l(0),e&2){let t=o(),n=o();w("",n.citesCount(),' citations de "',t,'":\xA0')}}function Y(e,i){if(e&1&&(s(0,"h1",1),_(1,Q,1,1,"ng-template",8)(2,V,1,1,"ng-template",9)(3,X,1,2,"ng-template",10),c()),e&2){let t=o();x("ngPlural",t.citesCount())}}function Z(e,i){if(e&1&&(s(0,"li",3)(1,"cite"),l(2),c()()),e&2){let t=i.$implicit;r(2),d("\u201D",t.getCite(),"\u201D")}}var Ct=(()=>{class e extends z{citeService=u(N);title=u(k);device=u(W);set author(t){t||(t=""),this.authorOfCites.set(t),this.author$.next(t)}authorOfCites=p("");author$=new $(1);cites=p([]);cites$=this.author$.pipe(v(t=>this.citeService.searchByAuthor(t)),f([]),m(t=>this.cites.set(t)),C());citesCount=p(0);citesCount$=this.cites$.pipe(h(t=>t.length),f(0),m(t=>this.citesCount.set(t)),C());pagerPaginatedCites$=new y;displayedPaginatedCites=p([]);displayedPaginatedCites$=this.cites$.pipe(b(this.pagerPaginatedCites$),h(t=>t.slice(0,this.itemsPerPage)),m(t=>this.displayedPaginatedCites.set(t)),C());constructor(){super();let t=this.device;this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=10,t.isMobile()&&(this.itemsPerPage=4),this.cites$.subscribe(),this.citesCount$.subscribe(),this.displayedPaginatedCites$.subscribe()}setPaginatedList(t){t[0]&&(t[0]instanceof O||!t[0])&&this.pagerPaginatedCites$.next(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=A({type:e,selectors:[["app-list-cites-by-authors"]],inputs:{author:"author"},features:[B],decls:9,vars:5,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2",3,"ngPlural"],[1,"list-none"],[1,"p-1"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"paginatedList$","list","options"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(n,a){if(n&1&&(s(0,"div",0),_(1,Y,4,1,"h1",1),s(2,"ul",2),T(3,Z,3,1,"li",3,J),c()(),s(5,"div",4)(6,"div",5)(7,"section",6)(8,"app-pager",7),I("paginatedList$",function(U){return a.setPaginatedList(U)}),c()()()()),n&2){let g;r(),S((g=a.authorOfCites())?1:-1,g),r(2),D(a.displayedPaginatedCites()),r(5),x("list",a.cites())("options",E(3,K,a.getItemsPerPage()))}},dependencies:[M,j,R],encapsulation:2,changeDetection:0})}return e})();export{Ct as ListCitesByAuthorsComponent};
