import './polyfills.server.mjs';
import{$ as c,Jb as F,Kb as m,Lb as C,Ma as b,T as V,V as E,W as l,c as L,g as I,h as y,ha as P,o as O,pa as j,qa as u,y as x}from"./chunk-CRI4ACI5.mjs";function D(s){s||(P(D),s=c(u));let t=new L(i=>s.onDestroy(i.next.bind(i)));return i=>i.pipe(V(t))}function S(s,t){!t?.injector&&P(S);let i=t?.injector??c(j),e=new y(1),r=C(()=>{let a;try{a=s()}catch(n){m(()=>e.error(n));return}m(()=>e.next(a))},{injector:i,manualCleanup:!0});return i.get(u).onDestroy(()=>{r.destroy(),e.complete()}),e.asObservable()}function M(s,t){let i=!t?.manualCleanup;i&&!t?.injector&&P(M);let e=i?t?.injector?.get(u)??c(u):null,r;t?.requireSync?r=b({kind:0}):r=b({kind:1,value:t?.initialValue});let a=s.subscribe({next:n=>r.set({kind:1,value:n}),error:n=>{if(t?.rejectErrors)throw n;r.set({kind:2,error:n})}});return e?.onDestroy(a.unsubscribe.bind(a)),F(()=>{let n=r();switch(n.kind){case 1:return n.value;case 2:throw n.error;case 0:throw new E(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var B=(()=>{let t=class t{isMobile(){return Object.keys(navigator).length?navigator.userAgent.includes("Mobile"):!1}isDesktop(){return!this.isMobile()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let s=t;return s})();var f=class{constructor(t){this.pager=[],this.pagerFirstEdges=[],this.pagerLastEdges=[],this.pagerNumbers=[],this.pager=t,this.pagerFirstEdges=this.pager.filter((i,e)=>e<2),this.pagerLastEdges=this.pager.slice().reverse().filter((i,e)=>e<2).reverse(),this.pagerNumbers=this.pager.filter(i=>!this.pagerFirstEdges.includes(i)&&!this.pagerLastEdges.includes(i))}getAll(){return this.pager}getFirstEdges(){return this.pagerFirstEdges}getLastEdges(){return this.pagerLastEdges}getNumbers(){return this.pagerNumbers}};var d=class extends Error{},g=class extends Error{},h=class extends Error{},o=class extends Error{},w=class extends Error{};var v=class extends Error{},Q=(()=>{let t=class t{constructor(){this.originalList=[],this.itemPerPage=5,this.maxPagerItem=5,this.firstPage=1,this.totalPage=1,this.lastPage=1,this.previousPage=1,this.nextPage=1,this.currentPage=new I(1),this.pagerIndexList=[],this.pagerItemList={},this.currentPage$=this.currentPage.asObservable().pipe(x(e=>!!e)),this.currentOffset$=this.currentPage.asObservable().pipe(x(e=>!!e),O(e=>this.getOffsetForPage(e)))}init(e,r){typeof e!="object"?this.originalList=new Array(e).fill(0):this.originalList=e,this.setOptions(r).resetPage().setTotalPage(e).calculateLastPage().calculateCurrentPage().calculatePreviousPage().calculateNextPage().createIndexList().buildPagerList()}isCurrentPage(e){return this.currentPage.getValue()===e}getOffset(){return this.getOffsetForPage(this.getCurrentPage())}getOffsetForPage(e){if(e<this.firstPage)throw new w;return e===this.firstPage?0:(e-1)*this.itemPerPage}getTotalPage(){return this.totalPage}getFirstPage(){return this.firstPage}getLastPage(){return this.lastPage}getCurrentPage(){return this.currentPage.getValue()}getPreviousPage(){return this.previousPage}getNextPage(){return this.nextPage}getPaginatedList(){let e=this.getOffset(),r=e+this.itemPerPage;return this.originalList.slice(e,r)}goToPage(e){if(this.getCurrentPage()===e)return this.getCurrentPage();if(this.pagerIndexList.includes(e))this.currentPage.next(e),this.calculatePreviousPage(),this.calculateNextPage(),this.createIndexList(),this.buildPagerList();else throw new v;return this.currentPage.getValue()}goToFirstPage(){return this.currentPage.getValue()===this.firstPage?this.currentPage.getValue():(this.currentPage.next(this.firstPage),this.previousPage=this.firstPage,this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToLastPage(){return this.currentPage.getValue()===this.lastPage?this.currentPage.getValue():(this.currentPage.next(this.lastPage),this.nextPage=this.lastPage,this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToNextPage(){return this.currentPage.getValue()===this.nextPage?this.currentPage.getValue():(this.previousPage=this.currentPage.getValue(),this.currentPage.next(this.nextPage),this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToPreviousPage(){return this.currentPage.getValue()===this.previousPage?this.currentPage.getValue():(this.nextPage=this.currentPage.getValue(),this.currentPage.next(this.previousPage),this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}getPagerIndexList(){return this.pagerIndexList}getPagerItemList(){return this.pagerItemList}setOptions(e){return e?(typeof e.itemPerPage<"u"&&(this.itemPerPage=e.itemPerPage),typeof e.maxPagerItem<"u"&&(this.maxPagerItem=e.maxPagerItem),this):this}setTotalPage(e){let r=typeof e=="object"?e.length:e;return this.totalPage=Math.ceil(r/this.itemPerPage),this}setFirstPage(e){return this.firstPage=e>=0?e:this.firstPage,this}resetPage(){return this.currentPage.next(this.firstPage),this}calculateLastPage(){if(this.totalPage===null)throw new d;if(this.firstPage===null)throw new g;return this.lastPage=this.totalPage-1+this.firstPage,this}calculateCurrentPage(){if(this.lastPage===null)throw new h;if(this.firstPage===null)throw new g;let e=this.getCurrentPage();return this.currentPage.next(this.currentPage.getValue()<this.firstPage?this.firstPage:e>this.lastPage?this.lastPage:e),this}calculatePreviousPage(){if(this.currentPage===null)throw new o;if(this.firstPage===null)throw new g;let e=this.currentPage.getValue()-1;return this.previousPage=e>=this.firstPage?e:this.firstPage,this}calculateNextPage(){if(this.lastPage===null)throw new h;if(this.currentPage===null)throw new o;let e=this.currentPage.getValue()+1;return this.nextPage=e<=this.lastPage?e:this.lastPage,this}createIndexList(){if(this.lastPage===null)throw new h;if(this.currentPage===null)throw new o;if(this.totalPage===null)throw new d;if(this.firstPage===null)throw new g;let e=Math.floor(this.maxPagerItem/2),r=this.lastPage-this.maxPagerItem+1,a;this.currentPage.getValue()<=e?a=this.firstPage:this.lastPage-this.currentPage.getValue()<=e?a=r<=this.firstPage?this.firstPage:r:a=this.currentPage.getValue()-e;let n=a+(this.maxPagerItem-1),k=n>this.lastPage?this.lastPage:n;this.pagerIndexList=[];for(let p=a;p<=k;p++)this.pagerIndexList.push(p);return this}buildPagerList(){let e=[];return this.pagerIndexList.length&&(this.pagerIndexList.forEach(r=>{e.push({index:r,label:r.toString()})}),e=e.filter((r,a)=>a<this.maxPagerItem)),e.unshift({index:this.getPreviousPage(),label:"<"}),e.unshift({index:this.getFirstPage(),label:"<<"}),e.push({index:this.getNextPage(),label:">"}),e.push({index:this.getLastPage(),label:">>"}),this.pagerItemList=new f(e),this.pagerItemList}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{D as a,S as b,M as c,Q as d,B as e};
