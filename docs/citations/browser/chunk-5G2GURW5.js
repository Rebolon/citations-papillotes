import{k as I}from"./chunk-X3QKOUQC.js";import{C as f,G as l,J as g,M as y,S as k,U as v,Y as x,aa as F,i as d,l as L,q as n,s as N,u as j}from"./chunk-DRO5L2YF.js";var a=class{constructor(e,$=1){this.name=e,this.count=$}getName(){return this.name}getCount(){return this.count}addCount(){return this.count++,this.count}};var U=(()=>{let e=class e{constructor(u){this.citeService=u,this.authors=new d([]),this.authors$=this.authors.asObservable().pipe(n(t=>t.map(r=>new a(r.getName(),r.getCount()))),g(),l(1)),this.count=0;let s=[];u.cites$.pipe(v(t=>L(t)),n(t=>t.getAuthor()),n(t=>{let r;if(s.find(o=>o.getName()===t)){let o=s.findIndex(m=>m.getName()===t);s[o].addCount(),r=s[o]}else r=new a(t),s.push(r);return r}),g(),k(u.cites$),y(t=>t.getName().toLowerCase().includes("proverbe")),N(t=>t.pipe(f(),n(r=>r.sort((o,m)=>{let c=o.getName().split(" "),p=m.getName().split(" "),w=(c.length>1?c.pop():c.shift())??"",h=c[0],C=(p.length>1?p.pop():p.shift())??"",b=p[0];return w.toLowerCase()<C.toLowerCase()?-1:w.toLowerCase()>C.toLowerCase()?1:h?h.toLowerCase()<b.toLowerCase()?-1:h.toLowerCase()>b.toLowerCase()?1:0:0})))),j(),f(),l(1)).subscribe(t=>{this.authors.next(t)})}};e.\u0275fac=function(s){return new(s||e)(F(I))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let i=e;return i})();export{a,U as b};
