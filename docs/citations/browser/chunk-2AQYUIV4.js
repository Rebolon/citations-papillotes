import{a as H,b as J}from"./chunk-HDA2YQ5N.js";import{a as _,b as R,c as U,d as q}from"./chunk-A2D6WYRG.js";import{b as G}from"./chunk-C2V7MVMA.js";import{d as O}from"./chunk-7ZVU332C.js";import{Aa as g,Ab as j,Bb as M,Cb as W,Ha as B,Hb as z,La as h,Na as k,P as A,Qa as I,Ra as F,Sa as s,T as S,Ta as l,U as $,W as c,Xa as f,Ya as E,Za as N,_a as a,ab as C,ca as L,fb as w,gb as D,h as T,hb as P,q as d,wa as y,xa as m,za as o}from"./chunk-DRO5L2YF.js";var Q=(t,i)=>i.getName();function V(t,i){t&1&&a(0,"0 Auteur.")}function X(t,i){t&1&&a(0,"1 Auteur.")}function Y(t,i){if(t&1&&a(0),t&2){let p=E();C("",p.authorsCount()," Auteurs.")}}function Z(t,i){if(t&1&&(s(0,"li",12)(1,"a",13),a(2),s(3,"small"),a(4),l()()()),t&2){let p=i.$implicit;o(1),N("routerLink","/authors/",p.getName(),""),o(1),C("",p.getName()," "),o(2),C("(",p.getCount(),")")}}var K=(t,i)=>({"font-semibold":t,"font-normal":i}),tt=t=>({itemPerPage:t}),ct=(()=>{let i=class i extends U{constructor(n,u,e){super(),this.authorService=n,this.title=u,this.device=e,this.sort=m("text"),this.isSortByText=y(()=>this.sort()==="text"),this.isSortByTotal=y(()=>this.sort()==="total"),this.authors=m([]),this.authors$=R(this.sort).pipe($(r=>r==="text"?this.authorService.authors$:this.authorService.authors$.pipe(d(x=>x.sort((b,v)=>b.getCount()>v.getCount()?-1:b.getCount()<v.getCount()?1:0)))),c(r=>this.authors.set(r)),_()),this.authorsCount=m(0),this.authorsCount$=this.authors$.pipe(d(r=>r.length),S(0),c(r=>this.authorsCount.set(r)),_()),this.pagerPaginatedAuthors$=new T,this.displayedPaginatedAuthors=m([]),this.displayedPaginatedAuthors$=this.authors$.pipe(A(this.pagerPaginatedAuthors$),d(r=>r.slice(0,this.itemsPerPage)),c(r=>this.displayedPaginatedAuthors.set(r)),_()),this.itemsPerPage=11,this.title.setTitle("Citations - Liste des auteurs"),e.isMobile()&&(this.itemsPerPage=8),this.authors$.subscribe(),this.authorsCount$.subscribe(),this.displayedPaginatedAuthors$.subscribe()}sortByAuthor(){this.sort.set("text")}sortByCount(){this.sort.set("total")}setPaginatedList(n){n[0]&&(n[0]instanceof H||!n[0])&&this.pagerPaginatedAuthors$.next(n)}};i.\u0275fac=function(u){return new(u||i)(g(J),g(z),g(G))},i.\u0275cmp=L({type:i,selectors:[["app-list-authors"]],standalone:!0,features:[B,w],decls:16,vars:15,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],["title","Trier par nom",1,"bg-gray-100","text-violet-800","text-xs","inline-flex","items-center","px-2.5","py-0.5","rounded-full","mr-2",3,"ngClass","disabled","click"],["title","Trier par total de citations",1,"bg-gray-100","text-violet-800","text-xs","inline-flex","items-center","px-2.5","py-0.5","rounded-full",3,"ngClass","disabled","click"],[1,"list-none"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"p-1"],[3,"routerLink"],["class","p-1"]],template:function(u,e){u&1&&(s(0,"div",0)(1,"h1",1),k(2,V,1,0,"ng-template",2)(3,X,1,0,"ng-template",3)(4,Y,1,1,"ng-template",4),l(),s(5,"button",5),f("click",function(){return e.sortByAuthor()}),a(6," Trier par nom "),l(),s(7,"button",6),f("click",function(){return e.sortByCount()}),a(8," Trier par total "),l(),s(9,"ul",7),I(10,Z,5,3,"li",14,Q),l()(),s(12,"div",8)(13,"div",9)(14,"section",10)(15,"app-pager",11),f("paginatedList$",function(x){return e.setPaginatedList(x)}),l()()()()),u&2&&(o(1),h("ngPlural",e.authorsCount()),o(4),h("ngClass",P(7,K,e.isSortByText()===!0,e.isSortByText()===!1))("disabled",e.isSortByText()),o(2),h("ngClass",P(10,K,e.isSortByTotal(),e.isSortByTotal()))("disabled",e.isSortByTotal()),o(3),F(e.displayedPaginatedAuthors()),o(5),h("list",e.authors())("options",D(13,tt,e.getItemsPerPage())))},dependencies:[j,M,W,O,q],encapsulation:2});let t=i;return t})();export{ct as ListAuthorsComponent};
