import{$ as m,Ab as C,E as b,Ja as w,Z as E,aa as c,fa as P,i as I,la as f,m as O,n as V,ta as k,u as j,ua as h,yb as F,zb as v}from"./chunk-J5UKACCW.js";function D(r){r||(f(D),r=P(h));let t=new I(i=>r.onDestroy(i.next.bind(i)));return i=>i.pipe(E(t))}function M(r,t){!t?.injector&&f(M);let i=t?.injector??P(k),e=new V(1),s=C(()=>{let a;try{a=r()}catch(g){v(()=>e.error(g));return}v(()=>e.next(a))},{injector:i,manualCleanup:!0});return i.get(h).onDestroy(()=>{s.destroy(),e.complete()}),e.asObservable()}function S(r,t){let i=!t?.manualCleanup;i&&!t?.injector&&f(S);let e=i?t?.injector?.get(h)??P(h):null,s=q(t?.equal),a;t?.requireSync?a=w({kind:0},{equal:s}):a=w({kind:1,value:t?.initialValue},{equal:s});let g=r.subscribe({next:n=>a.set({kind:1,value:n}),error:n=>{if(t?.rejectErrors)throw n;a.set({kind:2,error:n})}});if(t?.requireSync&&a().kind===0)throw new m(601,!1);return e?.onDestroy(g.unsubscribe.bind(g)),F(()=>{let n=a();switch(n.kind){case 1:return n.value;case 2:throw n.error;case 0:throw new m(601,!1)}},{equal:t?.equal})}function q(r=Object.is){return(t,i)=>t.kind===1&&i.kind===1&&r(t.value,i.value)}var G=(()=>{let t=class t{isMobile(){return Object.keys(navigator).length?navigator.userAgent.includes("Mobile"):!1}isDesktop(){return!this.isMobile()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac});let r=t;return r})();var d=class{constructor(t){this.pager=[],this.pagerFirstEdges=[],this.pagerLastEdges=[],this.pagerNumbers=[],this.pager=t,this.pagerFirstEdges=this.pager.filter((i,e)=>e<2),this.pagerLastEdges=this.pager.slice().reverse().filter((i,e)=>e<2).reverse(),this.pagerNumbers=this.pager.filter(i=>!this.pagerFirstEdges.includes(i)&&!this.pagerLastEdges.includes(i))}getAll(){return this.pager}getFirstEdges(){return this.pagerFirstEdges}getLastEdges(){return this.pagerLastEdges}getNumbers(){return this.pagerNumbers}};var p=class extends Error{},u=class extends Error{},o=class extends Error{},l=class extends Error{},L=class extends Error{};var y=class extends Error{},W=(()=>{let t=class t{constructor(){this.originalList=[],this.itemPerPage=5,this.maxPagerItem=5,this.firstPage=1,this.totalPage=1,this.lastPage=1,this.previousPage=1,this.nextPage=1,this.currentPage=new O(1),this.pagerIndexList=[],this.pagerItemList={},this.currentPage$=this.currentPage.asObservable().pipe(b(e=>!!e)),this.currentOffset$=this.currentPage.asObservable().pipe(b(e=>!!e),j(e=>this.getOffsetForPage(e)))}init(e,s){typeof e!="object"?this.originalList=new Array(e).fill(0):this.originalList=e,this.setOptions(s).resetPage().setTotalPage(e).calculateLastPage().calculateCurrentPage().calculatePreviousPage().calculateNextPage().createIndexList().buildPagerList()}isCurrentPage(e){return this.currentPage.getValue()===e}getOffset(){return this.getOffsetForPage(this.getCurrentPage())}getOffsetForPage(e){if(e<this.firstPage)throw new L;return e===this.firstPage?0:(e-1)*this.itemPerPage}getTotalPage(){return this.totalPage}getFirstPage(){return this.firstPage}getLastPage(){return this.lastPage}getCurrentPage(){return this.currentPage.getValue()}getPreviousPage(){return this.previousPage}getNextPage(){return this.nextPage}getPaginatedList(){let e=this.getOffset(),s=e+this.itemPerPage;return this.originalList.slice(e,s)}goToPage(e){if(this.getCurrentPage()===e)return this.getCurrentPage();if(this.pagerIndexList.includes(e))this.currentPage.next(e),this.calculatePreviousPage(),this.calculateNextPage(),this.createIndexList(),this.buildPagerList();else throw new y;return this.currentPage.getValue()}goToFirstPage(){return this.currentPage.getValue()===this.firstPage?this.currentPage.getValue():(this.currentPage.next(this.firstPage),this.previousPage=this.firstPage,this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToLastPage(){return this.currentPage.getValue()===this.lastPage?this.currentPage.getValue():(this.currentPage.next(this.lastPage),this.nextPage=this.lastPage,this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToNextPage(){return this.currentPage.getValue()===this.nextPage?this.currentPage.getValue():(this.previousPage=this.currentPage.getValue(),this.currentPage.next(this.nextPage),this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToPreviousPage(){return this.currentPage.getValue()===this.previousPage?this.currentPage.getValue():(this.nextPage=this.currentPage.getValue(),this.currentPage.next(this.previousPage),this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}getPagerIndexList(){return this.pagerIndexList}getPagerItemList(){return this.pagerItemList}setOptions(e){return e?(typeof e.itemPerPage<"u"&&(this.itemPerPage=e.itemPerPage),typeof e.maxPagerItem<"u"&&(this.maxPagerItem=e.maxPagerItem),this):this}setTotalPage(e){let s=typeof e=="object"?e.length:e;return this.totalPage=Math.ceil(s/this.itemPerPage),this}setFirstPage(e){return this.firstPage=e>=0?e:this.firstPage,this}resetPage(){return this.currentPage.next(this.firstPage),this}calculateLastPage(){if(this.totalPage===null)throw new p;if(this.firstPage===null)throw new u;return this.lastPage=this.totalPage-1+this.firstPage,this}calculateCurrentPage(){if(this.lastPage===null)throw new o;if(this.firstPage===null)throw new u;let e=this.getCurrentPage();return this.currentPage.next(this.currentPage.getValue()<this.firstPage?this.firstPage:e>this.lastPage?this.lastPage:e),this}calculatePreviousPage(){if(this.currentPage===null)throw new l;if(this.firstPage===null)throw new u;let e=this.currentPage.getValue()-1;return this.previousPage=e>=this.firstPage?e:this.firstPage,this}calculateNextPage(){if(this.lastPage===null)throw new o;if(this.currentPage===null)throw new l;let e=this.currentPage.getValue()+1;return this.nextPage=e<=this.lastPage?e:this.lastPage,this}createIndexList(){if(this.lastPage===null)throw new o;if(this.currentPage===null)throw new l;if(this.totalPage===null)throw new p;if(this.firstPage===null)throw new u;let e=Math.floor(this.maxPagerItem/2),s=this.lastPage-this.maxPagerItem+1,a;this.currentPage.getValue()<=e?a=this.firstPage:this.lastPage-this.currentPage.getValue()<=e?a=s<=this.firstPage?this.firstPage:s:a=this.currentPage.getValue()-e;let g=a+(this.maxPagerItem-1),n=g>this.lastPage?this.lastPage:g;this.pagerIndexList=[];for(let x=a;x<=n;x++)this.pagerIndexList.push(x);return this}buildPagerList(){let e=[];return this.pagerIndexList.length&&(this.pagerIndexList.forEach(s=>{e.push({index:s,label:s.toString()})}),e=e.filter((s,a)=>a<this.maxPagerItem)),e.unshift({index:this.getPreviousPage(),label:"<"}),e.unshift({index:this.getFirstPage(),label:"<<"}),e.push({index:this.getNextPage(),label:">"}),e.push({index:this.getLastPage(),label:">>"}),this.pagerItemList=new d(e),this.pagerItemList}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{D as a,M as b,S as c,W as d,G as e};
