{"version":3,"file":"src_app_components_list-cites-by-authors_list-cites-by-authors_component_ts.js","mappings":"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","sources":["./src/app/components/list-cites-by-authors/list-cites-by-authors.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { CiteI } from '../../models/Cite';\nimport { Cites } from '../../services/Cites';\nimport { Title } from '@angular/platform-browser';\nimport { Device } from '../../tools/Device';\nimport { BasePaginatedComponent } from '../common/BasePaginatedComponent';\nimport { PagerComponent } from '../pager/pager.component';\nimport { NgIf, NgPlural, NgPluralCase, NgFor } from '@angular/common';\nimport { BehaviorSubject, filter, switchMap } from 'rxjs';\n\n@Component({\n  selector: 'app-list-cites-by-authors',\n  template: `\n    <div class=\"container mb-36\">\n      <h1\n        *ngIf=\"author\"\n        [ngPlural]=\"cites.length\"\n        class=\"text-3xl font-bold text-stone-900 mb-2\"\n      >\n        <ng-template ngPluralCase=\"=0\"\n          >Aucune citation de \"{{ author }}\"&nbsp;</ng-template\n        >\n        <ng-template ngPluralCase=\"=1\"\n          >{{ cites.length }} citation de \"{{ author }}\":&nbsp;</ng-template\n        >\n        <ng-template ngPluralCase=\"other\"\n          >{{ cites.length }} citations de \"{{ author }}\":&nbsp;</ng-template\n        >\n      </h1>\n\n      <ul class=\"list-none\">\n        <li\n          *ngFor=\"let item of paginatedCites; trackBy: trackByCiteId\"\n          class=\"p-1\"\n        >\n          <cite>”{{ item.getCite() }}”</cite>\n        </li>\n      </ul>\n    </div>\n\n    <div class=\"container\">\n      <div class=\"w-full\">\n        <section\n          class=\"block fixed inset-x-0 bottom-10 z-10 bg-white\"\n          id=\"bottom-navigation\"\n        >\n          <app-pager\n            [list]=\"cites\"\n            [options]=\"{ itemPerPage: getItemsPerPage() }\"\n            (paginatedList$)=\"setPaginatedList($event)\"\n          ></app-pager>\n        </section>\n      </div>\n    </div>\n  `,\n  styles: [],\n  providers: [Device],\n  standalone: true,\n  imports: [NgIf, NgPlural, NgPluralCase, NgFor, PagerComponent],\n})\nexport class ListCitesByAuthorsComponent\n  extends BasePaginatedComponent\n  implements OnInit\n{\n  @Input({ required: true }) author: string;\n  cites: CiteI[] = [];\n  paginatedCites: CiteI[] = [];\n\n  constructor(\n    public citeService: Cites,\n    protected title: Title,\n    protected device: Device\n  ) {\n    super();\n    this.title.setTitle('Citations - Liste des citations');\n    this.itemsPerPage = 10;\n    if (device.isMobile()) {\n      this.itemsPerPage = 4;\n    }\n  }\n\n  ngOnInit(): void {\n    this.citeService\n      .searchByAuthor(this.author)\n      .subscribe((cites) => this.fillCites(cites));\n  }\n\n  protected fillCites(citesList: CiteI[]): void {\n    this.cites = [];\n    this.paginatedCites = [];\n    citesList.forEach((cite, index) => {\n      this.cites.push(cite);\n    });\n    this.paginatedCites = this.cites.slice(0, this.itemsPerPage);\n  }\n\n  protected trackByCiteId(index, cite: CiteI): number {\n    return cite.getId();\n  }\n\n  setPaginatedList(ev: CiteI[]): void {\n    this.paginatedCites = ev;\n  }\n}\n"],"names":["Device","BasePaginatedComponent","PagerComponent","NgIf","NgPlural","NgPluralCase","NgFor","i0","ɵɵtext","ɵɵtextInterpolate1","ctx_r2","author","ɵɵtextInterpolate2","ctx_r3","cites","length","ctx_r4","ɵɵelementStart","ɵɵtemplate","ListCitesByAuthorsComponent_h1_1_ng_template_1_Template","ListCitesByAuthorsComponent_h1_1_ng_template_2_Template","ListCitesByAuthorsComponent_h1_1_ng_template_3_Template","ɵɵelementEnd","ɵɵproperty","ctx_r0","ɵɵadvance","item_r5","getCite","ListCitesByAuthorsComponent","constructor","citeService","title","device","paginatedCites","setTitle","itemsPerPage","isMobile","ngOnInit","searchByAuthor","subscribe","fillCites","citesList","forEach","cite","index","push","slice","trackByCiteId","getId","setPaginatedList","ev","ɵɵdirectiveInject","i1","Cites","i2","Title","i3","selectors","inputs","standalone","features","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","ɵɵStandaloneFeature","decls","vars","consts","template","ListCitesByAuthorsComponent_Template","rf","ctx","ListCitesByAuthorsComponent_h1_1_Template","ListCitesByAuthorsComponent_li_3_Template","ɵɵlistener","ListCitesByAuthorsComponent_Template_app_pager_paginatedList__7_listener","$event","ɵɵpureFunction1","_c0","getItemsPerPage","encapsulation"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}