import{a as z,b as O}from"./chunk-ANXFFA22.js";import{a as _,b as x,c as P,d as W}from"./chunk-WYIE2SNB.js";import{a as B}from"./chunk-FJJZNFUP.js";import{c as f,d as h,o as F,u as N,v as j}from"./chunk-DRISVVAD.js";import{Ab as L,B as v,Cb as M,Ja as s,Ob as m,Q as E,Qa as g,U as y,V as R,ab as $,ca as T,cb as d,fb as c,gb as I,hb as k,i as b,ib as w,jb as p,k as D,kb as r,lb as q,ob as A,pb as l,r as S,va as u,xb as n,zb as C}from"./chunk-NIGT2CQE.js";function J(e,i){if(e&1&&n(0),e&2){let t=l(2);C('Aucune citation trouv\xE9e pour la recherche "',t.q(),'"\xA0')}}function K(e,i){if(e&1&&n(0),e&2){let t=l(2);L("",t.count(),' citation trouv\xE9e pour la recherche "',t.q(),'":\xA0')}}function Q(e,i){if(e&1&&n(0),e&2){let t=l(2);L("",t.count(),' citations trouv\xE9es pour la recherche "',t.q(),'":\xA0')}}function V(e,i){if(e&1&&(p(0,"h2",0),d(1,J,1,1,"ng-template",1)(2,K,1,2,"ng-template",2)(3,Q,1,2,"ng-template",3),r()),e&2){let t=l();c("ngPlural",t.count())}}var U=(()=>{class e{citesCount=u.required();q=u();count=m(()=>this.citesCount()??0);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=g({type:e,selectors:[["app-search-result-title"]],inputs:{citesCount:[1,"citesCount"],q:[1,"q"]},decls:1,vars:1,consts:[[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(o,a){o&1&&d(0,V,4,1,"h2",0),o&2&&I(a.q()?0:-1)},dependencies:[f,h],encapsulation:2,changeDetection:0})}return e})();var X=(e,i)=>i.getId(),Y=e=>({itemPerPage:e});function Z(e,i){e&1&&n(0,"0 Citation.")}function tt(e,i){e&1&&n(0,"1 Citation.")}function et(e,i){if(e&1&&n(0),e&2){let t=l();C("",t.citesCount()," Citations.")}}function it(e,i){if(e&1&&(p(0,"li",8)(1,"cite"),n(2),r(),n(3," de "),q(4,"app-link-cites-by-author",13),r()),e&2){let t=i.$implicit;s(2),C("\u201D",t.getCite(),"\u201D"),s(2),c("author",t.getAuthor())}}var yt=(()=>{class e extends z{device=T(W);citeService=T(j);q=u("",{transform:t=>t?t.trim():""});q$=new D(1);cites=m(()=>this.citesSource()??[]);citesSource=P(x(this.q).pipe(y(""),R(t=>t?this.citeService.search(t):this.citeService.cites$),_()));citesCount=m(()=>this.citesCountSource()??0);citesCountSource=P(x(this.citesSource).pipe(v(t=>!!t),S(t=>t.length),y(0),_()));pagerPaginatedCites$=new b;displayedPaginatedCites=m(()=>this.displayedPaginatedCitesSource()??[]);displayedPaginatedCitesSource=P(x(this.citesSource).pipe(v(t=>!!t),E(this.pagerPaginatedCites$),S(t=>t.slice(0,this.itemsPerPage)),_()));constructor(){super();let t=this.device;this.itemsPerPage=12,t.isMobile()&&(this.itemsPerPage=4)}setPaginatedList(t){t[0]&&(t[0]instanceof N||!t[0])&&this.pagerPaginatedCites$.next(t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=g({type:e,selectors:[["app-list-cites"]],inputs:{q:[1,"q"]},features:[$],decls:14,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams","ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"q","citesCount"],[1,"list-none"],[1,"p-1"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"paginatedList$","list","options"],[3,"author"]],template:function(o,a){o&1&&(p(0,"div",0)(1,"h1",1)(2,"a",2),d(3,Z,1,0,"ng-template",3)(4,tt,1,0,"ng-template",4)(5,et,1,1,"ng-template",5),r()(),q(6,"app-search-result-title",6),p(7,"ul",7),k(8,it,5,2,"li",8,X),r()(),p(10,"div",9)(11,"div",10)(12,"section",11)(13,"app-pager",12),A("paginatedList$",function(G){return a.setPaginatedList(G)}),r()()()()),o&2&&(s(2),c("queryParams",null)("ngPlural",a.citesCount()),s(4),c("q",a.q())("citesCount",a.citesCount()),s(2),w(a.displayedPaginatedCites()),s(5),c("list",a.cites())("options",M(6,Y,a.getItemsPerPage())))},dependencies:[F,f,h,B,U,O],encapsulation:2,changeDetection:0})}return e})();export{yt as ListCitesComponent};
