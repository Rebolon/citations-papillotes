import{a as y,c as z,d as U}from"./chunk-A2D6WYRG.js";import{b as G}from"./chunk-C2V7MVMA.js";import{a as N}from"./chunk-ACJNTKPU.js";import{d as j,j as B,k as W}from"./chunk-7ZVU332C.js";import{Aa as _,Bb as P,Cb as v,Ha as E,Hb as M,La as c,Na as d,Oa as k,P as I,Qa as w,Ra as F,Sa as m,T as $,Ta as l,U as D,Ua as b,W as g,Xa as R,Ya as u,_a as r,ab as C,bb as S,ca as h,fb as x,gb as A,h as q,j as L,q as T,xa as f,za as p}from"./chunk-DRO5L2YF.js";function O(t,e){if(t&1&&r(0),t&2){let i=u(2);C('Aucune citation trouv\xE9e pour la recherche "',i.q,'"\xA0')}}function Q(t,e){if(t&1&&r(0),t&2){let i=u(2);S("",i.citesCount,' citation trouv\xE9e pour la recherche "',i.q,'":\xA0')}}function V(t,e){if(t&1&&r(0),t&2){let i=u(2);S("",i.citesCount,' citations trouv\xE9es pour la recherche "',i.q,'":\xA0')}}function X(t,e){if(t&1&&(m(0,"h2",1),d(1,O,1,1,"ng-template",2)(2,Q,1,2,"ng-template",3)(3,V,1,2,"ng-template",4),l()),t&2){let i=u();c("ngPlural",i.citesCount)}}var H=(()=>{let e=class e{constructor(){this.citesCount=0}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=h({type:e,selectors:[["app-search-result-title"]],inputs:{citesCount:"citesCount",q:"q"},standalone:!0,features:[x],decls:1,vars:1,consts:[["class","text-md text-gray-600",3,"ngPlural"],[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(s,o){s&1&&d(0,X,4,1,"h2",0),s&2&&k(0,o.q?0:-1)},dependencies:[P,v],encapsulation:2});let t=e;return t})();var Y=(t,e)=>e.getId();function Z(t,e){t&1&&r(0,"0 Citation.")}function tt(t,e){t&1&&r(0,"1 Citation.")}function et(t,e){if(t&1&&r(0),t&2){let i=u();C("",i.citesCount()," Citations.")}}function it(t,e){if(t&1&&(m(0,"li",12)(1,"cite"),r(2),l(),r(3," de "),b(4,"app-link-cites-by-author",13),l()),t&2){let i=e.$implicit;p(2),C("\u201D",i.getCite(),"\u201D"),p(2),c("author",i.getAuthor())}}var nt=t=>({itemPerPage:t}),vt=(()=>{let e=class e extends z{set q(n){n||(n=""),this.q$.next(n.trim())}constructor(n,s,o){super(),this.citeService=n,this.title=s,this.device=o,this.q$=new L(1),this.cites=f([]),this.cites$=this.q$.pipe($(""),D(a=>a?this.citeService.search(a):this.citeService.cites$),g(a=>this.cites.set(a)),y()),this.citesCount=f(0),this.citesCount$=this.cites$.pipe(T(a=>a.length),$(0),g(a=>this.citesCount.set(a)),y()),this.pagerPaginatedCites$=new q,this.displayedPaginatedCites=f([]),this.displayedPaginatedCites$=this.cites$.pipe(I(this.pagerPaginatedCites$),T(a=>a.slice(0,this.itemsPerPage)),g(a=>this.displayedPaginatedCites.set(a)),y()),this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,o.isMobile()&&(this.itemsPerPage=4),this.cites$.subscribe(),this.citesCount$.subscribe(),this.displayedPaginatedCites$.subscribe()}setPaginatedList(n){n[0]&&(n[0]instanceof B||!n[0])&&this.pagerPaginatedCites$.next(n)}};e.\u0275fac=function(s){return new(s||e)(_(W),_(M),_(G))},e.\u0275cmp=h({type:e,selectors:[["app-list-cites"]],inputs:{q:"q"},standalone:!0,features:[E,x],decls:14,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams","ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"q","citesCount"],[1,"list-none"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"p-1"],[3,"author"],["class","p-1"]],template:function(s,o){s&1&&(m(0,"div",0)(1,"h1",1)(2,"a",2),d(3,Z,1,0,"ng-template",3)(4,tt,1,0,"ng-template",4)(5,et,1,1,"ng-template",5),l()(),b(6,"app-search-result-title",6),m(7,"ul",7),w(8,it,5,2,"li",14,Y),l()(),m(10,"div",8)(11,"div",9)(12,"section",10)(13,"app-pager",11),R("paginatedList$",function(J){return o.setPaginatedList(J)}),l()()()()),s&2&&(p(2),c("queryParams",null)("ngPlural",o.citesCount()),p(4),c("q",o.q)("citesCount",o.citesCount()),p(2),F(o.displayedPaginatedCites()),p(5),c("list",o.cites())("options",A(6,nt,o.getItemsPerPage())))},dependencies:[j,P,v,N,H,U],encapsulation:2});let t=e;return t})();export{vt as ListCitesComponent};
