import{a as G,b as H}from"./chunk-DA3SQIRJ.js";import{a as v,b as y,c as T,e as J}from"./chunk-3ELLKIZQ.js";import{a as z}from"./chunk-V5EWSPUW.js";import{d as W,j as O,k as U}from"./chunk-XTARVZLO.js";import{$a as u,Da as l,E as L,Ea as _,Gb as P,Hb as S,Ka as F,Mb as B,Oa as C,Sa as p,T as k,Ta as R,Ua as A,Va as M,Wa as m,X as b,Xa as c,Y as w,Ya as D,_a as j,fb as s,ga as f,hb as h,ib as I,kb as x,l as E,lb as N,n as $,u as q,ya as g,yb as d}from"./chunk-J5UKACCW.js";function X(t,e){if(t&1&&s(0),t&2){let i=u(2);h('Aucune citation trouv\xE9e pour la recherche "',i.q(),'"\xA0')}}function Y(t,e){if(t&1&&s(0),t&2){let i=u(2);I("",i.count(),' citation trouv\xE9e pour la recherche "',i.q(),'":\xA0')}}function Z(t,e){if(t&1&&s(0),t&2){let i=u(2);I("",i.count(),' citations trouv\xE9es pour la recherche "',i.q(),'":\xA0')}}function tt(t,e){if(t&1&&(m(0,"h2",0),C(1,X,1,1,"ng-template",1)(2,Y,1,2,"ng-template",2)(3,Z,1,2,"ng-template",3),c()),t&2){let i=u();p("ngPlural",i.count())}}var K=(()=>{let e=class e{constructor(){this.citesCount=g.required(),this.q=g(),this.count=d(()=>this.citesCount()??0)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=f({type:e,selectors:[["app-search-result-title"]],inputs:{citesCount:[1,"citesCount"],q:[1,"q"]},standalone:!0,features:[x],decls:1,vars:1,consts:[[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(a,o){a&1&&C(0,tt,4,1,"h2",0),a&2&&R(o.q()?0:-1)},dependencies:[P,S],encapsulation:2,changeDetection:0});let t=e;return t})();var et=(t,e)=>e.getId(),it=t=>({itemPerPage:t});function nt(t,e){t&1&&s(0,"0 Citation.")}function ot(t,e){t&1&&s(0,"1 Citation.")}function at(t,e){if(t&1&&s(0),t&2){let i=u();h("",i.citesCount()," Citations.")}}function rt(t,e){if(t&1&&(m(0,"li",8)(1,"cite"),s(2),c(),s(3," de "),D(4,"app-link-cites-by-author",13),c()),t&2){let i=e.$implicit;l(2),h("\u201D",i.getCite(),"\u201D"),l(2),p("author",i.getAuthor())}}var bt=(()=>{let e=class e extends G{constructor(r,a,o){super(),this.citeService=r,this.title=a,this.device=o,this.q=g("",{transform:n=>n?n.trim():""}),this.q$=new $(1),this.cites=d(()=>this.citesSource()??[]),this.citesSource=T(y(this.q).pipe(b(""),w(n=>n?this.citeService.search(n):this.citeService.cites$),v())),this.citesCount=d(()=>this.citesCountSource()??0),this.citesCountSource=T(y(this.citesSource).pipe(L(n=>!!n),q(n=>n.length),b(0),v())),this.pagerPaginatedCites$=new E,this.displayedPaginatedCites=d(()=>this.displayedPaginatedCitesSource()??[]),this.displayedPaginatedCitesSource=T(y(this.citesSource).pipe(L(n=>!!n),k(this.pagerPaginatedCites$),q(n=>n.slice(0,this.itemsPerPage)),v())),this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,o.isMobile()&&(this.itemsPerPage=4)}setPaginatedList(r){r[0]&&(r[0]instanceof O||!r[0])&&this.pagerPaginatedCites$.next(r)}};e.\u0275fac=function(a){return new(a||e)(_(U),_(B),_(J))},e.\u0275cmp=f({type:e,selectors:[["app-list-cites"]],inputs:{q:[1,"q"]},standalone:!0,features:[F,x],decls:14,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams","ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"q","citesCount"],[1,"list-none"],[1,"p-1"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"paginatedList$","list","options"],[3,"author"]],template:function(a,o){a&1&&(m(0,"div",0)(1,"h1",1)(2,"a",2),C(3,nt,1,0,"ng-template",3)(4,ot,1,0,"ng-template",4)(5,at,1,1,"ng-template",5),c()(),D(6,"app-search-result-title",6),m(7,"ul",7),A(8,rt,5,2,"li",8,et),c()(),m(10,"div",9)(11,"div",10)(12,"section",11)(13,"app-pager",12),j("paginatedList$",function(Q){return o.setPaginatedList(Q)}),c()()()()),a&2&&(l(2),p("queryParams",null)("ngPlural",o.citesCount()),l(4),p("q",o.q())("citesCount",o.citesCount()),l(2),M(o.displayedPaginatedCites()),l(5),p("list",o.cites())("options",N(6,it,o.getItemsPerPage())))},dependencies:[W,P,S,z,K,H],encapsulation:2,changeDetection:0});let t=e;return t})();export{bt as ListCitesComponent};
