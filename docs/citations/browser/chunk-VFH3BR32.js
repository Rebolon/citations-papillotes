import{X as u,h as d,p as m,z as o}from"./chunk-BYGGLSSH.js";var w=(()=>{let t=class t{isMobile(){return Object.keys(navigator).length?navigator.userAgent.includes("Mobile"):!1}isDesktop(){return!this.isMobile()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac});let s=t;return s})();var P=class{constructor(t){this.pager=[],this.pagerFirstEdges=[],this.pagerLastEdges=[],this.pagerNumbers=[],this.pager=t,this.pagerFirstEdges=this.pager.filter((h,e)=>e<2),this.pagerLastEdges=this.pager.slice().reverse().filter((h,e)=>e<2).reverse(),this.pagerNumbers=this.pager.filter(h=>!this.pagerFirstEdges.includes(h)&&!this.pagerLastEdges.includes(h))}getAll(){return this.pager}getFirstEdges(){return this.pagerFirstEdges}getLastEdges(){return this.pagerLastEdges}getNumbers(){return this.pagerNumbers}};var l=class extends Error{},a=class extends Error{},g=class extends Error{},n=class extends Error{},f=class extends Error{};var p=class extends Error{},O=(()=>{let t=class t{constructor(){this.originalList=[],this.itemPerPage=5,this.maxPagerItem=5,this.firstPage=1,this.totalPage=1,this.lastPage=1,this.previousPage=1,this.nextPage=1,this.currentPage=new d(1),this.pagerIndexList=[],this.pagerItemList={},this.currentPage$=this.currentPage.asObservable().pipe(o(e=>!!e)),this.currentOffset$=this.currentPage.asObservable().pipe(o(e=>!!e),m(e=>this.getOffsetForPage(e)))}init(e,r){typeof e!="object"?this.originalList=new Array(e).fill(0):this.originalList=e,this.setOptions(r).resetPage().setTotalPage(e).calculateLastPage().calculateCurrentPage().calculatePreviousPage().calculateNextPage().createIndexList().buildPagerList()}isCurrentPage(e){return this.currentPage.getValue()===e}getOffset(){return this.getOffsetForPage(this.getCurrentPage())}getOffsetForPage(e){if(e<this.firstPage)throw new f;return e===this.firstPage?0:(e-1)*this.itemPerPage}getTotalPage(){return this.totalPage}getFirstPage(){return this.firstPage}getLastPage(){return this.lastPage}getCurrentPage(){return this.currentPage.getValue()}getPreviousPage(){return this.previousPage}getNextPage(){return this.nextPage}getPaginatedList(){let e=this.getOffset(),r=e+this.itemPerPage;return this.originalList.slice(e,r)}goToPage(e){if(this.getCurrentPage()===e)return this.getCurrentPage();if(this.pagerIndexList.includes(e))this.currentPage.next(e),this.calculatePreviousPage(),this.calculateNextPage(),this.createIndexList(),this.buildPagerList();else throw new p;return this.currentPage.getValue()}goToFirstPage(){return this.currentPage.getValue()===this.firstPage?this.currentPage.getValue():(this.currentPage.next(this.firstPage),this.previousPage=this.firstPage,this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToLastPage(){return this.currentPage.getValue()===this.lastPage?this.currentPage.getValue():(this.currentPage.next(this.lastPage),this.nextPage=this.lastPage,this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToNextPage(){return this.currentPage.getValue()===this.nextPage?this.currentPage.getValue():(this.previousPage=this.currentPage.getValue(),this.currentPage.next(this.nextPage),this.calculateNextPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}goToPreviousPage(){return this.currentPage.getValue()===this.previousPage?this.currentPage.getValue():(this.nextPage=this.currentPage.getValue(),this.currentPage.next(this.previousPage),this.calculatePreviousPage(),this.createIndexList(),this.buildPagerList(),this.currentPage.getValue())}getPagerIndexList(){return this.pagerIndexList}getPagerItemList(){return this.pagerItemList}setOptions(e){return e?(typeof e.itemPerPage<"u"&&(this.itemPerPage=e.itemPerPage),typeof e.maxPagerItem<"u"&&(this.maxPagerItem=e.maxPagerItem),this):this}setTotalPage(e){let r=typeof e=="object"?e.length:e;return this.totalPage=Math.ceil(r/this.itemPerPage),this}setFirstPage(e){return this.firstPage=e>=0?e:this.firstPage,this}resetPage(){return this.currentPage.next(this.firstPage),this}calculateLastPage(){if(this.totalPage===null)throw new l;if(this.firstPage===null)throw new a;return this.lastPage=this.totalPage-1+this.firstPage,this}calculateCurrentPage(){if(this.lastPage===null)throw new g;if(this.firstPage===null)throw new a;let e=this.getCurrentPage();return this.currentPage.next(this.currentPage.getValue()<this.firstPage?this.firstPage:e>this.lastPage?this.lastPage:e),this}calculatePreviousPage(){if(this.currentPage===null)throw new n;if(this.firstPage===null)throw new a;let e=this.currentPage.getValue()-1;return this.previousPage=e>=this.firstPage?e:this.firstPage,this}calculateNextPage(){if(this.lastPage===null)throw new g;if(this.currentPage===null)throw new n;let e=this.currentPage.getValue()+1;return this.nextPage=e<=this.lastPage?e:this.lastPage,this}createIndexList(){if(this.lastPage===null)throw new g;if(this.currentPage===null)throw new n;if(this.totalPage===null)throw new l;if(this.firstPage===null)throw new a;let e=Math.floor(this.maxPagerItem/2),r=this.lastPage-this.maxPagerItem+1,i;this.currentPage.getValue()<=e?i=this.firstPage:this.lastPage-this.currentPage.getValue()<=e?i=r<=this.firstPage?this.firstPage:r:i=this.currentPage.getValue()-e;let x=i+(this.maxPagerItem-1),L=x>this.lastPage?this.lastPage:x;this.pagerIndexList=[];for(let c=i;c<=L;c++)this.pagerIndexList.push(c);return this}buildPagerList(){let e=[];return this.pagerIndexList.length&&(this.pagerIndexList.forEach(r=>{e.push({index:r,label:r.toString()})}),e=e.filter((r,i)=>i<this.maxPagerItem)),e.unshift({index:this.getPreviousPage(),label:"<"}),e.unshift({index:this.getFirstPage(),label:"<<"}),e.push({index:this.getNextPage(),label:">"}),e.push({index:this.getLastPage(),label:">>"}),this.pagerItemList=new P(e),this.pagerItemList}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{O as a,w as b};
