"use strict";(self.webpackChunkcitations=self.webpackChunkcitations||[]).push([[915],{1915:(A,c,s)=>{s.r(c),s.d(c,{ListCitesComponent:()=>T});var l=s(2060),_=s(3482),u=s(5259),h=s(7476),p=s(5550),r=s(6814),t=s(9467),C=s(570),g=s(6593);function m(e,o){return this.trackByCiteId}function d(e,o){if(1&e&&t._uU(0),2&e){const i=t.oxw(2);t.hij('Aucune citation trouv\xe9e pour la recherche "',i.q,'"\xa0')}}function P(e,o){if(1&e&&t._uU(0),2&e){const i=t.oxw(2);t.AsE("",i.cites.length,' citation trouv\xe9e pour la recherche "',i.q,'":\xa0')}}function E(e,o){if(1&e&&t._uU(0),2&e){const i=t.oxw(2);t.AsE("",i.cites.length,' citations trouv\xe9es pour la recherche "',i.q,'":\xa0')}}function f(e,o){if(1&e&&(t.TgZ(0,"h2",9),t.YNc(1,d,1,1,"ng-template",10)(2,P,1,2,"ng-template",11)(3,E,1,2,"ng-template",12),t.qZA()),2&e){const i=t.oxw();t.Q6J("ngPlural",i.cites.length)}}function x(e,o){if(1&e&&(t.TgZ(0,"li",13)(1,"cite"),t._uU(2),t.qZA(),t._uU(3," de "),t._UZ(4,"app-link-cites-by-author",14),t.qZA()),2&e){const i=o.$implicit;t.xp6(2),t.hij("\u201d",i.getCite(),"\u201d"),t.xp6(2),t.Q6J("author",i.getAuthor())}}const L=e=>({itemPerPage:e});let T=(()=>{class e extends u._{constructor(i,n,a){super(),this.citeService=i,this.title=n,this.device=a,this.cites=[],this.paginatedCites=[],this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,a.isMobile()&&(this.itemsPerPage=4)}ngOnInit(){this.citeService.cites$.subscribe({next:i=>{this.fillCites(i)}}),this.findCitesBySearch()}ngOnChanges(){this.findCitesBySearch()}findCitesBySearch(){this.q&&""===this.q.trim()?this.citeService.reset().subscribe():this.citeService.search(this.q).subscribe(i=>this.fillCites(i))}fillCites(i){this.cites=[],this.paginatedCites=[],i.forEach((n,a)=>{this.cites.push(n)}),this.paginatedCites=this.cites.slice(0,this.itemsPerPage)}trackByCiteId(i,n){return n.getId()}setPaginatedList(i){this.paginatedCites=i}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(C._),t.Y36(g.Dx),t.Y36(_.A))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-cites"]],inputs:{q:"q"},standalone:!0,features:[t._Bn([_.A]),t.qOj,t.TTD,t.jDz],decls:12,vars:6,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites","queryParams",""],["class","text-md text-gray-600",3,"ngPlural"],[1,"list-none"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[1,"p-1"],[3,"author"],["class","p-1"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),t._uU(3),t.qZA()(),t.YNc(4,f,4,1,"h2",3),t.TgZ(5,"ul",4),t.SjG(6,x,5,2,"li",15,m,!0),t.qZA()(),t.TgZ(8,"div",5)(9,"div",6)(10,"section",7)(11,"app-pager",8),t.NdJ("paginatedList$",function(v){return a.setPaginatedList(v)}),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",a.citeService.countSearchFoundCites()," Citations."),t.xp6(1),t.um2(4,a.q?4:-1),t.wJu(6,a.paginatedCites),t.xp6(7),t.Q6J("list",a.cites)("options",t.VKq(4,L,a.getItemsPerPage())))},dependencies:[l.rH,r.iq,r.zE,p.u,h.P],encapsulation:2})}return e})()}}]);