"use strict";(self.webpackChunkcitations=self.webpackChunkcitations||[]).push([[915],{1915:(v,r,n)=>{n.r(r),n.d(r,{ListCitesComponent:()=>x});var l=n(2060),_=n(3482),u=n(5259),h=n(7476),p=n(5550),o=n(6814),t=n(4769),g=n(570),C=n(6593);function m(i,a){if(1&i&&t._uU(0),2&i){const e=t.oxw(2);t.hij('Aucune citation trouv\xe9e pour la recherche "',e.q,'"\xa0')}}function d(i,a){if(1&i&&t._uU(0),2&i){const e=t.oxw(2);t.AsE("",e.cites.length,' citation trouv\xe9e pour la recherche "',e.q,'":\xa0')}}function P(i,a){if(1&i&&t._uU(0),2&i){const e=t.oxw(2);t.AsE("",e.cites.length,' citations trouv\xe9es pour la recherche "',e.q,'":\xa0')}}function f(i,a){if(1&i&&(t.TgZ(0,"h2",10),t.YNc(1,m,1,1,"ng-template",11),t.YNc(2,d,1,2,"ng-template",12),t.YNc(3,P,1,2,"ng-template",13),t.qZA()),2&i){const e=t.oxw();t.Q6J("ngPlural",e.cites.length)}}function E(i,a){if(1&i&&(t.TgZ(0,"li",14)(1,"cite"),t._uU(2),t.qZA(),t._uU(3," de "),t._UZ(4,"app-link-cites-by-author",15),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij("\u201d",e.getCite(),"\u201d"),t.xp6(2),t.Q6J("author",e.getAuthor())}}const L=function(i){return{itemPerPage:i}};let x=(()=>{class i extends u._{constructor(e,s,c){super(),this.citeService=e,this.title=s,this.device=c,this.cites=[],this.paginatedCites=[],this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,c.isMobile()&&(this.itemsPerPage=4)}ngOnInit(){this.citeService.cites$.subscribe({next:e=>{this.fillCites(e)}}),this.findCitesBySearch()}ngOnChanges(){this.findCitesBySearch()}findCitesBySearch(){this.q&&""===this.q.trim()?this.citeService.reset().subscribe():this.citeService.search(this.q).subscribe(e=>this.fillCites(e))}fillCites(e){this.cites=[],this.paginatedCites=[],e.forEach((s,c)=>{this.cites.push(s)}),this.paginatedCites=this.cites.slice(0,this.itemsPerPage)}trackByCiteId(e,s){return s.getId()}setPaginatedList(e){this.paginatedCites=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g._),t.Y36(C.Dx),t.Y36(_.A))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-cites"]],inputs:{q:"q"},standalone:!0,features:[t._Bn([_.A]),t.qOj,t.TTD,t.jDz],decls:11,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites","queryParams",""],["class","text-md text-gray-600",3,"ngPlural",4,"ngIf"],[1,"list-none"],["class","p-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[1,"p-1"],[3,"author"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),t._uU(3),t.qZA()(),t.YNc(4,f,4,1,"h2",3),t.TgZ(5,"ul",4),t.YNc(6,E,5,2,"li",5),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"section",8)(10,"app-pager",9),t.NdJ("paginatedList$",function(T){return s.setPaginatedList(T)}),t.qZA()()()()),2&e&&(t.xp6(3),t.hij("",s.citeService.countSearchFoundCites()," Citations."),t.xp6(1),t.Q6J("ngIf",s.q),t.xp6(2),t.Q6J("ngForOf",s.paginatedCites)("ngForTrackBy",s.trackByCiteId),t.xp6(4),t.Q6J("list",s.cites)("options",t.VKq(6,L,s.getItemsPerPage())))},dependencies:[l.rH,o.O5,o.iq,o.zE,o.ax,p.u,h.P],encapsulation:2}),i})()}}]);