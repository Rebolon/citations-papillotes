{"version":3,"file":"src_app_components_list-authors_list-authors_component_ts.js","mappings":"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","sources":["./src/app/components/list-authors/list-authors.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, RouterLink } from '@angular/router';\nimport { Authors } from '../../services/Cites/Authors';\nimport { AuthorI } from '../../models/Authors';\nimport { Title } from '@angular/platform-browser';\nimport { Device } from '../../tools/Device';\nimport { CiteI } from '../../models/Cite';\nimport { BasePaginatedComponent } from '../common/BasePaginatedComponent';\nimport { PagerComponent } from '../pager/pager.component';\nimport { NgClass, NgFor } from '@angular/common';\n\n@Component({\n    selector: 'app-list-authors',\n    template: `\n    <div class=\"container mb-36\">\n      <h1 class=\"text-3xl font-bold text-stone-900 mb-2\">\n        {{ authors?.length }} Auteurs.\n      </h1>\n\n      <button\n        [ngClass]=\"{\n          'font-semibold': isSortByText() === true,\n          'font-normal': isSortByText() === false\n        }\"\n        [disabled]=\"isSortByText()\"\n        (click)=\"sortByAlpha()\"\n        class=\"bg-gray-100 text-violet-800 text-xs inline-flex items-center px-2.5 py-0.5 rounded-full mr-2\"\n        title=\"Trier par nom\"\n      >\n        Trier par nom\n      </button>\n\n      <button\n        [ngClass]=\"{\n          'font-semibold': isSortByTotal() === true,\n          'font-normal': isSortByTotal() === false\n        }\"\n        [disabled]=\"isSortByTotal()\"\n        (click)=\"sortByCount()\"\n        class=\"bg-gray-100 text-violet-800 text-xs inline-flex items-center px-2.5 py-0.5 rounded-full\"\n        title=\"Trier par total de citations\"\n      >\n        Trier par total\n      </button>\n\n      <ul class=\"list-none\">\n        <li\n          *ngFor=\"let item of paginatedAuthors; trackBy: trackByAuthorName\"\n          class=\"p-1\"\n        >\n          <a routerLink=\"/authors/{{ item.getName() }}\"\n            >{{ item.getName() }} <small>({{ item.getCount() }})</small></a\n          >\n        </li>\n      </ul>\n    </div>\n\n    <div class=\"container\">\n      <div class=\"w-full\">\n        <section\n          class=\"block fixed inset-x-0 bottom-10 z-10 bg-white\"\n          id=\"bottom-navigation\"\n        >\n          <app-pager\n            [list]=\"authors\"\n            [options]=\"{ itemPerPage: getItemsPerPage() }\"\n            (paginatedList$)=\"setPaginatedList($event)\"\n          ></app-pager>\n        </section>\n      </div>\n    </div>\n  `,\n    styles: [],\n    providers: [Device],\n    standalone: true,\n    imports: [\n        NgClass,\n        NgFor,\n        RouterLink,\n        PagerComponent,\n    ],\n})\nexport class ListAuthorsComponent\n  extends BasePaginatedComponent\n  implements OnInit\n{\n  authors: AuthorI[] = [];\n  paginatedAuthors: AuthorI[] = [];\n  protected currentPage: number;\n  protected itemsPerPage = 11;\n  protected sort: 'text' | 'total' = 'text';\n\n  constructor(\n    public authorService: Authors,\n    protected title: Title,\n    protected device: Device\n  ) {\n    super();\n    this.title.setTitle('Citations - Liste des auteurs');\n    this.itemsPerPage = 11;\n    if (device.isMobile()) {\n      this.itemsPerPage = 8;\n    }\n  }\n\n  ngOnInit(): void {\n    this.sortByAlpha();\n  }\n\n  sortByAlpha(): void {\n    this.sort = 'text';\n\n    this.authorService.authors$.subscribe({\n      next: (next) => {\n        this.authors = next;\n      },\n      complete: () => {\n        this.paginatedAuthors = this.authors.slice(0, this.itemsPerPage);\n      },\n    });\n  }\n\n  sortByCount(): void {\n    this.sort = 'total';\n    this.authorService.authors$.subscribe({\n      next: (next) => {\n        this.authors = next.sort((a, b) => {\n          if (a.getCount() > b.getCount()) {\n            return -1;\n          }\n          if (a.getCount() < b.getCount()) {\n            return 1;\n          }\n          return 0;\n        });\n      },\n      complete: () => {\n        this.paginatedAuthors = this.authors.slice(0, this.itemsPerPage);\n      },\n    });\n  }\n\n  isSortByText(): boolean {\n    return this.sort === 'text';\n  }\n\n  isSortByTotal(): boolean {\n    return this.sort === 'total';\n  }\n\n  protected trackByAuthorName(index, author: AuthorI): string {\n    return author.getName();\n  }\n\n  setPaginatedList(ev: AuthorI[]): void {\n    this.paginatedAuthors = ev;\n  }\n}\n"],"names":["RouterLink","Device","BasePaginatedComponent","PagerComponent","NgClass","NgFor","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵpropertyInterpolate1","item_r1","getName","ɵɵtextInterpolate1","getCount","ListAuthorsComponent","constructor","authorService","title","device","authors","paginatedAuthors","itemsPerPage","sort","setTitle","isMobile","ngOnInit","sortByAlpha","authors$","subscribe","next","complete","slice","sortByCount","a","b","isSortByText","isSortByTotal","trackByAuthorName","index","author","setPaginatedList","ev","ɵɵdirectiveInject","i1","Authors","i2","Title","i3","selectors","standalone","features","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","ɵɵStandaloneFeature","decls","vars","consts","template","ListAuthorsComponent_Template","rf","ctx","ɵɵlistener","ListAuthorsComponent_Template_button_click_3_listener","ListAuthorsComponent_Template_button_click_5_listener","ɵɵtemplate","ListAuthorsComponent_li_8_Template","ListAuthorsComponent_Template_app_pager_paginatedList__12_listener","$event","length","ɵɵproperty","ɵɵpureFunction2","_c0","ɵɵpureFunction1","_c1","getItemsPerPage","encapsulation"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}