{
  "version": 3,
  "sources": ["src/app/components/list-authors/list-authors.component.ts"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, RouterLink } from '@angular/router';\nimport { Authors } from '../../services/Cites/Authors';\nimport { AuthorI } from '../../models/Authors';\nimport { Title } from '@angular/platform-browser';\nimport { Device } from '../../tools/Device';\nimport { CiteI } from '../../models/Cite';\nimport { BasePaginatedComponent } from '../common/BasePaginatedComponent';\nimport { PagerComponent } from '../pager/pager.component';\nimport { NgClass, NgFor } from '@angular/common';\n\n@Component({\n  selector: 'app-list-authors',\n  template: `\n    <div class=\"container mb-36\">\n      <h1 class=\"text-3xl font-bold text-stone-900 mb-2\">\n        {{ authors.length }} Auteurs.\n      </h1>\n\n      <button\n        [ngClass]=\"{\n          'font-semibold': isSortByText() === true,\n          'font-normal': isSortByText() === false\n        }\"\n        [disabled]=\"isSortByText()\"\n        (click)=\"sortByAlpha()\"\n        class=\"bg-gray-100 text-violet-800 text-xs inline-flex items-center px-2.5 py-0.5 rounded-full mr-2\"\n        title=\"Trier par nom\"\n      >\n        Trier par nom\n      </button>\n\n      <button\n        [ngClass]=\"{\n          'font-semibold': isSortByTotal() === true,\n          'font-normal': isSortByTotal() === false\n        }\"\n        [disabled]=\"isSortByTotal()\"\n        (click)=\"sortByCount()\"\n        class=\"bg-gray-100 text-violet-800 text-xs inline-flex items-center px-2.5 py-0.5 rounded-full\"\n        title=\"Trier par total de citations\"\n      >\n        Trier par total\n      </button>\n\n      <ul class=\"list-none\">\n        @for (item of paginatedAuthors; track item.getName()) {\n        <li class=\"p-1\">\n          <a routerLink=\"/authors/{{ item.getName() }}\"\n            >{{ item.getName() }} <small>({{ item.getCount() }})</small></a\n          >\n        </li>\n        }\n      </ul>\n    </div>\n\n    <div class=\"container\">\n      <div class=\"w-full\">\n        <section\n          class=\"block fixed inset-x-0 bottom-10 z-10 bg-white\"\n          id=\"bottom-navigation\"\n        >\n          <app-pager\n            [list]=\"authors\"\n            [options]=\"{ itemPerPage: getItemsPerPage() }\"\n            (paginatedList$)=\"setPaginatedList($event)\"\n          ></app-pager>\n        </section>\n      </div>\n    </div>\n  `,\n  providers: [],\n  standalone: true,\n  imports: [NgClass, RouterLink, PagerComponent],\n})\nexport class ListAuthorsComponent\n  extends BasePaginatedComponent\n  implements OnInit\n{\n  authors: AuthorI[] = [];\n  paginatedAuthors: AuthorI[] = [];\n  protected override currentPage!: number;\n  protected override itemsPerPage = 11;\n  protected sort: 'text' | 'total' = 'text';\n\n  constructor(\n    public authorService: Authors,\n    protected title: Title,\n    protected device: Device\n  ) {\n    super();\n    this.title.setTitle('Citations - Liste des auteurs');\n    this.itemsPerPage = 11;\n    if (device.isMobile()) {\n      this.itemsPerPage = 8;\n    }\n  }\n\n  ngOnInit(): void {\n    this.sortByAlpha();\n  }\n\n  sortByAlpha(): void {\n    this.sort = 'text';\n\n    this.authorService.authors$.subscribe({\n      next: (next) => {\n        this.authors = next;\n      },\n      complete: () => {\n        this.paginatedAuthors = this.authors.slice(0, this.itemsPerPage);\n      },\n    });\n  }\n\n  sortByCount(): void {\n    this.sort = 'total';\n    this.authorService.authors$.subscribe({\n      next: (next) => {\n        this.authors = next.sort((a, b) => {\n          if (a.getCount() > b.getCount()) {\n            return -1;\n          }\n          if (a.getCount() < b.getCount()) {\n            return 1;\n          }\n          return 0;\n        });\n      },\n      complete: () => {\n        this.paginatedAuthors = this.authors.slice(0, this.itemsPerPage);\n      },\n    });\n  }\n\n  isSortByText(): boolean {\n    return this.sort === 'text';\n  }\n\n  isSortByTotal(): boolean {\n    return this.sort === 'total';\n  }\n\n  setPaginatedList(ev: AuthorI[]): void {\n    this.paginatedAuthors = ev;\n  }\n}\n"],
  "mappings": "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",
  "names": ["i0", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275propertyInterpolate1", "item_r1", "getName", "\u0275\u0275textInterpolate1", "getCount", "ListAuthorsComponent", "BasePaginatedComponent", "constructor", "authorService", "title", "device", "authors", "paginatedAuthors", "itemsPerPage", "sort", "setTitle", "isMobile", "ngOnInit", "sortByAlpha", "authors$", "subscribe", "next", "complete", "slice", "sortByCount", "a", "b", "isSortByText", "isSortByTotal", "setPaginatedList", "ev", "\u0275\u0275directiveInject", "Authors", "Title", "Device", "selectors", "standalone", "features", "\u0275\u0275ProvidersFeature", "\u0275\u0275InheritDefinitionFeature", "\u0275\u0275StandaloneFeature", "decls", "vars", "consts", "template", "ListAuthorsComponent_Template", "rf", "ctx", "\u0275\u0275listener", "ListAuthorsComponent_Template_button_click_3_listener", "ListAuthorsComponent_Template_button_click_5_listener", "\u0275\u0275repeaterCreate", "ListAuthorsComponent_For_9_Template", "_forTrack0", "ListAuthorsComponent_Template_app_pager_paginatedList__13_listener", "$event", "length", "\u0275\u0275property", "\u0275\u0275pureFunction2", "_c1", "\u0275\u0275repeater", "\u0275\u0275pureFunction1", "_c2", "getItemsPerPage", "NgClass", "RouterLink", "PagerComponent", "encapsulation"]
}
