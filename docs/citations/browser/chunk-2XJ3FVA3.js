import{a as D,b as B}from"./chunk-AZBP4WHL.js";import{b as $}from"./chunk-5K6CMPT6.js";import{a as k}from"./chunk-BLJBZMOT.js";import{d as F,j as A}from"./chunk-OA7Q4GWB.js";import{Da as p,Fa as h,Ga as _,Ia as v,Ja as P,Ka as l,La as r,Ma as y,Pa as b,Qa as m,Sa as c,Ua as d,Va as g,Wa as L,Za as S,_a as I,aa as C,ca as f,ta as o,tb as q,ua as u,ub as E,za as x,zb as T}from"./chunk-GQQKX57E.js";var w=(t,e)=>e.getId();function M(t,e){if(t&1&&c(0),t&2){let i=m(2);d('Aucune citation trouv\xE9e pour la recherche "',i.q,'"\xA0')}}function N(t,e){if(t&1&&c(0),t&2){let i=m(2);g("",i.cites.length,' citation trouv\xE9e pour la recherche "',i.q,'":\xA0')}}function O(t,e){if(t&1&&c(0),t&2){let i=m(2);g("",i.cites.length,' citations trouv\xE9es pour la recherche "',i.q,'":\xA0')}}function z(t,e){if(t&1&&(l(0,"h2",9),h(1,M,1,1,"ng-template",10)(2,N,1,2,"ng-template",11)(3,O,1,2,"ng-template",12),r()),t&2){let i=m();p("ngPlural",i.cites.length)}}function R(t,e){if(t&1&&(l(0,"li",13)(1,"cite"),c(2),r(),c(3," de "),y(4,"app-link-cites-by-author",14),r()),t&2){let i=e.$implicit;o(2),d("\u201D",i.getCite(),"\u201D"),o(2),p("author",i.getAuthor())}}var G=t=>({itemPerPage:t}),tt=(()=>{let e=class e extends D{constructor(n,s,a){super(),this.citeService=n,this.title=s,this.device=a,this.cites=[],this.paginatedCites=[],this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,a.isMobile()&&(this.itemsPerPage=4)}ngOnInit(){this.citeService.cites$.subscribe({next:n=>{this.fillCites(n)}}),this.findCitesBySearch()}ngOnChanges(){this.findCitesBySearch()}findCitesBySearch(){if(this.q&&this.q.trim()===""){this.citeService.reset().subscribe();return}this.citeService.search(this.q).subscribe(n=>this.fillCites(n))}fillCites(n){this.cites=[],this.paginatedCites=[],n.forEach((s,a)=>{this.cites.push(s)}),this.paginatedCites=this.cites.slice(0,this.itemsPerPage)}setPaginatedList(n){this.paginatedCites=n}};e.\u0275fac=function(s){return new(s||e)(u(A),u(T),u($))},e.\u0275cmp=C({type:e,selectors:[["app-list-cites"]],inputs:{q:"q"},standalone:!0,features:[L([]),x,f,S],decls:12,vars:7,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams"],["class","text-md text-gray-600",3,"ngPlural"],[1,"list-none"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"],[1,"p-1"],[3,"author"],["class","p-1"]],template:function(s,a){s&1&&(l(0,"div",0)(1,"h1",1)(2,"a",2),c(3),r()(),h(4,z,4,1,"h2",3),l(5,"ul",4),v(6,R,5,2,"li",15,w),r()(),l(8,"div",5)(9,"div",6)(10,"section",7)(11,"app-pager",8),b("paginatedList$",function(j){return a.setPaginatedList(j)}),r()()()()),s&2&&(o(2),p("queryParams",null),o(1),d("",a.citeService.countSearchFoundCites()," Citations."),o(1),_(4,a.q?4:-1),o(2),P(a.paginatedCites),o(5),p("list",a.cites)("options",I(5,G,a.getItemsPerPage())))},dependencies:[F,q,E,k,B],encapsulation:2});let t=e;return t})();export{tt as ListCitesComponent};
