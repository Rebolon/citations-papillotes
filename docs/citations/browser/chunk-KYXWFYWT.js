import{a as k,b as A}from"./chunk-ZF25AG57.js";import{b as R}from"./chunk-VFH3BR32.js";import{a as F}from"./chunk-D2LGKUJJ.js";import{d as E,j as D}from"./chunk-QSNRUJH3.js";import{$a as T,Aa as v,Ab as L,Ea as l,Ga as f,Ha as P,Ja as S,Ka as y,La as p,Ma as r,Na as g,Qa as q,Ra as u,Ta as c,Va as m,Wa as x,Za as C,ba as d,da as _,ua as s,ub as b,va as h,vb as I}from"./chunk-BYGGLSSH.js";function $(t,e){if(t&1&&c(0),t&2){let a=u(2);m('Aucune citation trouv\xE9e pour la recherche "',a.q,'"\xA0')}}function w(t,e){if(t&1&&c(0),t&2){let a=u(2);x("",a.citesCount,' citation trouv\xE9e pour la recherche "',a.q,'":\xA0')}}function j(t,e){if(t&1&&c(0),t&2){let a=u(2);x("",a.citesCount,' citations trouv\xE9es pour la recherche "',a.q,'":\xA0')}}function O(t,e){if(t&1&&(p(0,"h2",1),f(1,$,1,1,"ng-template",2)(2,w,1,2,"ng-template",3)(3,j,1,2,"ng-template",4),r()),t&2){let a=u();l("ngPlural",a.citesCount)}}var B=(()=>{let e=class e{constructor(){this.citesCount=0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=d({type:e,selectors:[["app-search-result-title"]],inputs:{citesCount:"citesCount",q:"q"},standalone:!0,features:[C],decls:1,vars:1,consts:[["class","text-md text-gray-600",3,"ngPlural"],[1,"text-md","text-gray-600",3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(n,o){n&1&&f(0,O,4,1,"h2",0),n&2&&P(0,o.q?0:-1)},dependencies:[b,I],encapsulation:2});let t=e;return t})();var z=(t,e)=>e.getId();function G(t,e){if(t&1&&(p(0,"li",9)(1,"cite"),c(2),r(),c(3," de "),g(4,"app-link-cites-by-author",10),r()),t&2){let a=e.$implicit;s(2),m("\u201D",a.getCite(),"\u201D"),s(2),l("author",a.getAuthor())}}var H=t=>({itemPerPage:t}),it=(()=>{let e=class e extends k{constructor(i,n,o){super(),this.citeService=i,this.title=n,this.device=o,this.cites=[],this.paginatedCites=[],this.title.setTitle("Citations - Liste des citations"),this.itemsPerPage=12,o.isMobile()&&(this.itemsPerPage=4)}ngOnInit(){this.citeService.cites$.subscribe({next:i=>{this.fillCites(i)}}),this.findCitesBySearch()}ngOnChanges(){this.findCitesBySearch()}findCitesBySearch(){if(this.q&&this.q.trim()===""){this.citeService.reset().subscribe();return}this.citeService.search(this.q).subscribe(i=>this.fillCites(i))}fillCites(i){this.cites=[],this.paginatedCites=[],i.forEach(n=>{this.cites.push(n)}),this.paginatedCites=this.cites.slice(0,this.itemsPerPage)}setPaginatedList(i){this.paginatedCites=i}};e.\u0275fac=function(n){return new(n||e)(h(D),h(L),h(R))},e.\u0275cmp=d({type:e,selectors:[["app-list-cites"]],inputs:{q:"q"},standalone:!0,features:[v,_,C],decls:12,vars:8,consts:[[1,"container","mb-36"],[1,"text-3xl","font-bold","text-stone-900","mb-2"],["routerLink","/cites",3,"queryParams"],[3,"q","citesCount"],[1,"list-none"],[1,"container"],[1,"w-full"],["id","bottom-navigation",1,"block","fixed","inset-x-0","bottom-10","z-10","bg-white"],[3,"list","options","paginatedList$"],[1,"p-1"],[3,"author"],["class","p-1"]],template:function(n,o){n&1&&(p(0,"div",0)(1,"h1",1)(2,"a",2),c(3),r()(),g(4,"app-search-result-title",3),p(5,"ul",4),S(6,G,5,2,"li",11,z),r()(),p(8,"div",5)(9,"div",6)(10,"section",7)(11,"app-pager",8),q("paginatedList$",function(M){return o.setPaginatedList(M)}),r()()()()),n&2&&(s(2),l("queryParams",null),s(1),m("",o.citeService.countSearchFoundCites()," Citations."),s(1),l("q",o.q)("citesCount",o.cites.length),s(2),y(o.paginatedCites),s(5),l("list",o.cites)("options",T(6,H,o.getItemsPerPage())))},dependencies:[E,F,B,A],encapsulation:2});let t=e;return t})();export{it as ListCitesComponent};
